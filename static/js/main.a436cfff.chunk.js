(this["webpackJsonpmerged-fork"]=this["webpackJsonpmerged-fork"]||[]).push([[0],{305:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(225),i=a(258),o=a(103),c=a(21),l=(a(300),a(1)),d={apiKey:"AIzaSyC6rWX23LA2pdSTMAcptLvLDsxRLk4buZg",authDomain:"cs385-fitness-app.firebaseapp.com",databaseURL:"https://cs385-fitness-app-default-rtdb.europe-west1.firebasedatabase.app",projectId:"cs385-fitness-app",storageBucket:"cs385-fitness-app.appspot.com",messagingSenderId:"392827482682",appId:"1:392827482682:web:4c50bcdbbf7e1dabfefb03",measurementId:"G-NEY42M2JF1"},h=Object(s.createContext)(null),u=function(e){var t=e.children,a={app:null,auth:null,authCredential:null,user:null,database:null,analytics:null};if(!r.a.length){var s=Object(r.b)(d),n=Object(o.d)(),u=Object(i.a)(s);a={app:s,auth:n,authCredential:null,user:null,database:Object(c.f)(s),analytics:u,api:{}}}return Object(l.jsx)(h.Provider,{value:a,children:t})},j=a(119),b=a.n(j),p=a(7),x=a(4),g=a(5),O=a(17),m=a(14),w=a(15),f=a(2),v=a.n(f),y=(a(305),a(266)),k=a(425),C=a(156),S=a(231),M=a(422),P=a(426),W=a(132),D=a(122),T=a(416),E=a(110),B=a.n(E),U=a(109),I=a.n(U),L=a(402),G=a(429),N=a(427),F=a(428),A=a(405),R={backgroundColor:"#e0e0e0",width:"auto",marginTop:4,padding:4},H={display:"grid",justifyContent:"center"},q={m:1,backgroundColor:"white",minWidth:"46%"},z={marginLeft:6,marginBottom:8,minWidth:"94.5%"},Y={marginLeft:6,marginBottom:8,maxWidth:"90%"},V={m:1,backgroundColor:"white",width:"93.5%"},J=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={user:s.props.user,currentPassword:"",showCurrentPassword:!1,newPassword:"",confirmPassword:"",showNewPassword:!1,passwordUpdated:!1,updateFailure:!1,failureMessage:"",openDeleteDialog:!1,name:s.props.user.name,height:s.props.user.height,weight:s.props.user.weight},s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.handleMouseDownShowCurrPassword=s.handleMouseDownShowCurrPassword.bind(Object(O.a)(s)),s.handleMouseUpShowCurrPassword=s.handleMouseUpShowCurrPassword.bind(Object(O.a)(s)),s.handleMouseDownShowNewPassword=s.handleMouseDownShowNewPassword.bind(Object(O.a)(s)),s.handleMouseUpShowNewPassword=s.handleMouseUpShowNewPassword.bind(Object(O.a)(s)),s.updatePassword=s.updatePassword.bind(Object(O.a)(s)),s.deleteUserDialog=s.deleteUserDialog.bind(Object(O.a)(s)),s.handleCloseDeleteDialog=s.handleCloseDeleteDialog.bind(Object(O.a)(s)),s.deleteUser=s.deleteUser.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleTextBoxChange",value:function(e){"current-password"===e.target.id&&this.setState({currentPassword:e.target.value}),"new-password"===e.target.id&&this.setState({newPassword:e.target.value}),"confirm-password"===e.target.id&&this.setState({confirmPassword:e.target.value}),"name"===e.target.id&&this.setState({name:e.target.value}),"height"===e.target.id&&this.setState({height:e.target.value}),"weight"===e.target.id&&this.setState({weight:e.target.value})}},{key:"handleMouseDownShowCurrPassword",value:function(e){e.preventDefault(),this.setState({showCurrentPassword:!0})}},{key:"handleMouseUpShowCurrPassword",value:function(){this.setState({showCurrentPassword:!1})}},{key:"handleMouseDownShowNewPassword",value:function(e){e.preventDefault(),this.setState({showNewPassword:!0})}},{key:"handleMouseUpShowNewPassword",value:function(){this.setState({showNewPassword:!1})}},{key:"updatePassword",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.newPassword===this.state.confirmPassword&&this.state.newPassword.length>6)){e.next=8;break}return t=this.context.user,a=this.state.currentPassword,s=o.a.credential(t.email,a),e.next=6,Object(o.e)(t,s).then((function(e){n.context.authCredential=e,n.context.user=e.user,Object(o.g)(t,n.state.newPassword),n.setState({currentPassword:"",newPassword:"",confirmPassword:"",passwordUpdated:!0})})).catch((function(e){n.setState({currentPassword:"",newPassword:"",confirmPassword:"",updateFailure:!0,failureMessage:"Current password is incorrect."})}));case 6:e.next=9;break;case 8:this.setState({currentPassword:"",newPassword:"",confirmPassword:"",updateFailure:!0,failureMessage:"New passwords do not match, or do not contain at least 6 characters."});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUserDialog",value:function(){this.setState({openDeleteDialog:!0})}},{key:"handleCloseDeleteDialog",value:function(){this.setState({openDeleteDialog:!1})}},{key:"deleteUser",value:function(){var e=Object(p.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.deleteHandler(),this.setState({openDeleteDialog:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(l.jsx)(y.a,{variant:"h5",sx:H,children:"Account Management"}),Object(l.jsxs)(k.a,{style:R,children:[Object(l.jsx)(y.a,{variant:"h6",sx:H,children:"Change Your Password"}),Object(l.jsx)("div",{style:{width:"auto"},children:Object(l.jsxs)(C.a,{sx:q,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Current Password"}),Object(l.jsx)(M.a,{id:"current-password",type:this.state.showCurrentPassword?"text":"password",value:this.state.currentPassword,onChange:this.handleTextBoxChange,endAdornment:Object(l.jsx)(P.a,{id:"show-current",position:"end",children:Object(l.jsx)(W.a,{id:"show-current","aria-label":"toggle password visibility",onMouseUp:this.handleMouseUpShowCurrPassword,onMouseDown:this.handleMouseDownShowCurrPassword,edge:"end",children:this.state.showCurrentPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"Current Password"})]})}),Object(l.jsxs)(C.a,{sx:q,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"New Password"}),Object(l.jsx)(M.a,{id:"new-password",type:this.state.showNewPassword?"text":"password",value:this.state.newPassword,onChange:this.handleTextBoxChange,endAdornment:Object(l.jsx)(P.a,{position:"end",children:Object(l.jsx)(W.a,{"aria-label":"toggle password visibility",onMouseUp:this.handleMouseUpShowNewPassword,onMouseDown:this.handleMouseDownShowNewPassword,edge:"end",children:this.state.showNewPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"New Password"})]}),Object(l.jsxs)(C.a,{sx:q,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Confirm New Password"}),Object(l.jsx)(M.a,{id:"confirm-password",type:this.state.showNewPassword?"text":"password",value:this.state.confirmPassword,onChange:this.handleTextBoxChange,endAdornment:Object(l.jsx)(P.a,{position:"end",children:Object(l.jsx)(W.a,{"aria-label":"toggle password visibility",onMouseUp:this.handleMouseUpShowNewPassword,onMouseDown:this.handleMouseDownShowNewPassword,edge:"end",children:this.state.showNewPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"Confirm New Password"})]}),this.state.passwordUpdated&&Object(l.jsx)(T.a,{onClose:function(){e.setState({passwordUpdated:!1})},style:Y,children:"Password Successfully Updated"}),this.state.updateFailure&&Object(l.jsx)(T.a,{onClose:function(){e.setState({updateFailure:!1})},style:Y,severity:"error",children:this.state.failureMessage}),Object(l.jsx)(D.a,{variant:"contained",onClick:this.updatePassword,style:z,children:"Update Password"})]}),Object(l.jsxs)(k.a,{style:R,children:[Object(l.jsx)(y.a,{variant:"h6",sx:H,children:"Change Your Details"}),Object(l.jsxs)(C.a,{sx:V,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Your Name"}),Object(l.jsx)(M.a,{id:"name",type:"text",value:this.state.name,onChange:this.handleTextBoxChange,label:"Your Name"})]}),Object(l.jsxs)(C.a,{sx:V,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-height",children:"Your Height (cm)"}),Object(l.jsx)(M.a,{id:"height",type:"number",value:this.state.height,onChange:this.handleTextBoxChange,label:"Your Height (cm)"})]}),Object(l.jsxs)(C.a,{sx:V,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-weight",children:"Your Weight (kg)"}),Object(l.jsx)(M.a,{id:"weight",type:"number",value:this.state.weight,onChange:this.handleTextBoxChange,label:"Your Weight (cm)"})]}),Object(l.jsx)(D.a,{variant:"contained",style:z,onClick:function(){return e.props.updateUserDetails(e.state.name,e.state.weight,e.state.height)},children:"Update Details"})]}),Object(l.jsxs)(k.a,{style:R,sx:{marginBottom:"60px"},children:[Object(l.jsx)(y.a,{variant:"h6",sx:H,children:"Delete Your Account"}),Object(l.jsx)(y.a,{sx:H,children:"DANGER: this cannot be undone"}),Object(l.jsx)(D.a,{onClick:this.deleteUserDialog,variant:"contained",color:"error",style:z,sx:{marginTop:1},children:"Delete Account"})]}),Object(l.jsxs)(L.a,{open:this.state.openDeleteDialog,onClose:this.handleCloseDeleteDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(l.jsx)(A.a,{id:"alert-dialog-title",children:"Delete your user account?"}),Object(l.jsxs)(N.a,{children:[Object(l.jsx)(F.a,{id:"alert-dialog-description",children:"You are deleting your account. Your data will be removed from our records, and cannot be retrieved."}),Object(l.jsxs)(C.a,{sx:q,style:{width:"90%"},variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Current Password"}),Object(l.jsx)(M.a,{id:"current-password",type:this.state.showCurrentPassword?"text":"password",value:this.state.currentPassword,onChange:this.handleTextBoxChange,endAdornment:Object(l.jsx)(P.a,{id:"show-current",position:"end",children:Object(l.jsx)(W.a,{id:"show-current","aria-label":"toggle password visibility",onMouseUp:this.handleMouseUpShowCurrPassword,onMouseDown:this.handleMouseDownShowCurrPassword,edge:"end",children:this.state.showCurrentPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"Current Password"})]})]}),Object(l.jsxs)(G.a,{children:[Object(l.jsx)(D.a,{onClick:this.handleCloseDeleteDialog,children:"Disagree"}),Object(l.jsx)(D.a,{onClick:this.deleteUser,autoFocus:!0,children:"Agree"})]})]})]})}}]),a}(n.a.Component);J.contextType=h;var K=J,Q=a(432),$=a(431),_=a(423),X=a(430),Z=a(330),ee=a(89),te=a(334),ae={position:"absolute",top:"50%",left:"50%",display:"grid",justifyContent:"center",transform:"translate(-50%, -50%)",width:270,maxWidth:"80vw",bgcolor:"background.paper",boxShadow:24,p:2},se={m:1,width:"25ch"},ne=function(e){"Tab"===e.key&&e.stopPropagation()},re=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={open:s.props.open,email:"",password:"",showPassword:!1,loggingIn:s.props.loggingIn,errorMessage:""},s.handlePasswordChange=s.handlePasswordChange.bind(Object(O.a)(s)),s.handleClickShowPassword=s.handleClickShowPassword.bind(Object(O.a)(s)),s.handleMouseDownShowPassword=s.handleMouseDownShowPassword.bind(Object(O.a)(s)),s.handleEmailChange=s.handleEmailChange.bind(Object(O.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(O.a)(s)),s.handleModalStateChange=s.handleModalStateChange.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"openModal",value:function(){this.setState({open:!0})}},{key:"handleModalStateChange",value:function(){this.setState({open:!this.state.open}),this.props.buttonFlag||this.props.closeMenu()}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleClickShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleMouseDownShowPassword",value:function(e){e.preventDefault()}},{key:"handleSubmit",value:function(){this.setState({loggingIn:!this.state.loggingIn})}},{key:"receiveError",value:function(e){var t="";switch(e){case"auth/user-not-found":case"auth/wrong-password":t="Incorrect Email / Password";break;case"auth/timeout":t="Connection timed out, please try again";break;default:t="Sorry, log in failed, please try again."}this.setState({errorMessage:t})}},{key:"render",value:function(){var e=this,t=this.props.appLoginHandler;return Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[this.props.buttonFlag?Object(l.jsx)(D.a,{variant:"contained",fullWidth:!0,color:"success",sx:{margin:1,width:"7em"},onClick:function(){e.openModal()},children:"Log In"}):Object(l.jsx)(ee.a,{onClick:function(){e.openModal()},children:"Log In"}),Object(l.jsx)(Z.a,{open:this.state.open,onClose:this.handleModalStateChange,onKeyDown:ne,children:Object(l.jsxs)(X.a,{sx:ae,children:[Object(l.jsx)(y.a,{variant:"h4",sx:{marginLeft:"auto",marginRight:"auto"},children:"Login"}),this.state.loggingIn?Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center",marginTop:"1em"},children:[Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{children:"Attempting to log in..."})}),Object(l.jsx)("div",{style:{display:"grid",justifyContent:"center",marginTop:"1em"},children:Object(l.jsx)(te.a,{})})]}):Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(l.jsxs)(C.a,{sx:se,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Email"}),Object(l.jsx)(M.a,{id:"outlined-email",type:"text",value:this.state.email,onChange:this.handleEmailChange,label:"Email"})]}),Object(l.jsxs)(C.a,{sx:se,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(l.jsx)(M.a,{id:"outlined-adornment-password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handlePasswordChange,endAdornment:Object(l.jsx)(P.a,{position:"end",children:Object(l.jsx)(W.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownShowPassword,edge:"end",children:this.state.showPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"Password"})]}),this.state.errorMessage&&Object(l.jsx)(T.a,{severity:"error",sx:{margin:1,marginTop:0,width:"21ch"},onClose:function(){e.setState({errorMessage:""})},children:this.state.errorMessage}),Object(l.jsx)(D.a,{variant:"contained",sx:{marginLeft:1,marginRight:1},onClick:Object(p.a)(v.a.mark((function a(){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t(e.state.email,e.state.password),e.handleSubmit();case 2:case"end":return a.stop()}}),a)}))),children:"Log In"})]})]})})]})}}]),a}(n.a.Component);re.contextType=h;var ie=re,oe=a(36),ce={width:"100%",textDecoration:"none"},le=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n,r=new Date;return n=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate(),s.state={user:s.props.user,workouts:[],date:r,dateString:n,fetchComplete:!1},s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({creator:this.context.user.uid}),e.next=3,Object(c.d)(this.context.database,"users",this.context.user.uid);case 3:return t=e.sent,a=Object(c.h)(Object(c.b)(this.context.database,"user-workouts"),Object(c.k)("user","==",t),Object(c.k)("dateString","==",this.state.dateString),Object(c.k)("completed","==",!1)),e.next=7,Object(c.g)(a,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),s.setState({workouts:t})}));case 7:e.sent;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.workouts[0]||this.state.workouts[0].name){e.next=8;break}return e.next=3,Object(c.e)(this.state.workouts[0].workout);case 3:t=e.sent,(a=[]).push(this.state.workouts[0]),a[0].name=t.data().name,this.setState({workouts:a,fetchCompleted:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsx)("div",{style:{display:"grid",justifyContent:"center",marginBottom:64},children:Object(l.jsxs)(k.a,{sx:{width:320,maxWidth:"90vw",padding:1,margin:1,display:"grid",justifyContent:"center"},children:[Object(l.jsx)($.a,{component:"img",height:"180",style:{width:"95%",marginLeft:7,marginBottom:8},src:"/imgs/tmw_logo.JPG"}),this.state.workouts[0]&&Object(l.jsx)(k.a,{style:{width:"95%",marginLeft:7,backgroundColor:"#629365",color:"white"},children:Object(l.jsxs)(_.a,{container:!0,children:[Object(l.jsx)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(y.a,{sx:{fontSize:"2em",color:"white"},color:"text.secondary",children:"Today's Workout:"})}),Object(l.jsx)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(y.a,{sx:{fontSize:"1.5em",mb:1,color:"white"},color:"text.secondary",children:this.state.workouts[0].name})}),Object(l.jsx)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(oe.b,{to:"workout/".concat(this.state.workouts[0].id),style:{textDecoration:"none",display:"flex",justifyContent:"center"},children:Object(l.jsx)(D.a,{variant:"contained",color:"success",size:"medium",style:{textDecoration:"none",marginBottom:8},children:"Start Now"})})})]})}),Object(l.jsx)(Q.a,{children:Object(l.jsx)(oe.b,{to:"/create-custom-workout",style:ce,children:Object(l.jsx)(D.a,{orientation:"vertical",variant:"contained",size:"large",fullWidth:!0,children:"Start a Workout"})})}),Object(l.jsx)(Q.a,{children:Object(l.jsx)(oe.b,{to:"/my-calendar",style:ce,children:Object(l.jsx)(D.a,{orientation:"vertical",variant:"contained",size:"large",fullWidth:!0,children:"My Calendar"})})}),Object(l.jsx)(Q.a,{children:Object(l.jsx)(oe.b,{to:"/browse-workouts",style:ce,children:Object(l.jsx)(D.a,{orientation:"vertical",variant:"contained",size:"large",fullWidth:!0,children:"Browse Workouts"})})}),Object(l.jsx)(Q.a,{children:Object(l.jsx)(oe.b,{to:"/creation-center",style:ce,children:Object(l.jsx)(D.a,{orientation:"vertical",variant:"contained",size:"large",fullWidth:!0,children:"Creation Center"})})}),Object(l.jsx)(Q.a,{children:Object(l.jsx)(oe.b,{to:"/my-workouts",style:ce,children:Object(l.jsx)(D.a,{orientation:"vertical",variant:"contained",size:"large",fullWidth:!0,children:"My Workouts"})})})]})})}}]),a}(n.a.Component);le.contextType=h;var de=le,he=a(415),ue=a(417),je=a(433),be=a(434),pe=a(234),xe=Object(he.a)({root:{"&$expanded":{marginLeft:8,marginRight:8}},expanded:{}})(ue.a),ge={position:"absolute",top:"50%",left:"50%",display:"grid",justifyContent:"center",transform:"translate(-50%, -50%)",width:320,bgcolor:"background.paper",boxShadow:24,p:4},Oe=function(e){"Tab"===e.key&&e.stopPropagation()},me=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={name:"",email:"",password:"",height:"",weight:"",showPassword:!1,signingUp:!1,tooltip:[],canSubmit:!0,errorMessage:"",open:s.props.open},s.handlePasswordChange=s.handlePasswordChange.bind(Object(O.a)(s)),s.handleClickShowPassword=s.handleClickShowPassword.bind(Object(O.a)(s)),s.handleMouseDownShowPassword=s.handleMouseDownShowPassword.bind(Object(O.a)(s)),s.handleEmailChange=s.handleEmailChange.bind(Object(O.a)(s)),s.handleNameChange=s.handleNameChange.bind(Object(O.a)(s)),s.handleHeightChange=s.handleHeightChange.bind(Object(O.a)(s)),s.handleWeightChange=s.handleWeightChange.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.handleModalStateChange=s.handleModalStateChange.bind(Object(O.a)(s)),s.handleSignUpProcessing=s.handleSignUpProcessing.bind(Object(O.a)(s)),s.checkIfValid=s.checkIfValid.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.checkIfValid()}},{key:"checkIfValid",value:function(){var e=!1,t=[],a=new RegExp(/^\w+([.-]*\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/);0===this.state.name.length&&(e=!0,t.push("Please enter a name")),a.test(this.state.email)||(e=!0,t.push("Please enter a valid email address")),this.state.password.length<6&&(e=!0,t.push("Please enter a password with more than 6 characters")),!1===e&&(t=["You may now submit for signing up"]),this.setState({canSubmit:e,tooltip:t})}},{key:"receiveError",value:function(e){this.setState({errorMessage:e})}},{key:"handleSignUpProcessing",value:function(){this.setState({signingUp:!this.state.signingUp})}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"handleModalStateChange",value:function(){this.setState({open:!this.state.open}),this.props.splash||this.props.closeMenu()}},{key:"handlePasswordChange",value:function(e){var t=this;this.setState({password:e.target.value},(function(){return t.checkIfValid()}))}},{key:"handleEmailChange",value:function(e){var t=this;this.setState({email:e.target.value},(function(){return t.checkIfValid()}))}},{key:"handleNameChange",value:function(e){var t=this;this.setState({name:e.target.value},(function(){return t.checkIfValid()}))}},{key:"handleHeightChange",value:function(e){this.setState({height:e.target.value})}},{key:"handleWeightChange",value:function(e){this.setState({weight:e.target.value})}},{key:"handleClickShowPassword",value:function(){this.setState({showPassword:!this.state.showPassword})}},{key:"handleMouseDownShowPassword",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=(this.props.appSignUpHandler,this.props.signUpSubmit);return Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(l.jsx)(D.a,{color:"success",variant:"contained",sx:{margin:1,width:"7em"},onClick:this.openModal,children:"Sign Up"}),Object(l.jsx)(Z.a,{open:this.state.open,onClose:this.handleModalStateChange,onKeyDown:Oe,children:Object(l.jsxs)(X.a,{sx:ge,children:[Object(l.jsx)(y.a,{variant:"h4",sx:{marginLeft:"auto",marginRight:"auto"},children:"Sign Up"}),this.state.signingUp?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{children:"Sign up processing..."})}),Object(l.jsx)("div",{style:{display:"grid",justifyContent:"center",marginTop:"1em"},children:Object(l.jsx)(te.a,{})})]}):Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(l.jsxs)(C.a,{sx:{m:1,width:"auto"},variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Your Name (will default to email)"}),Object(l.jsx)(M.a,{id:"outlined-name",type:"text",value:this.state.name,onChange:this.handleNameChange,label:"Your Name (will default to email)"})]}),Object(l.jsxs)(C.a,{sx:{m:1,width:"auto"},variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Email"}),Object(l.jsx)(M.a,{id:"outlined-email",type:"text",value:this.state.email,onChange:this.handleEmailChange,label:"Email"})]}),Object(l.jsxs)(C.a,{sx:{m:1,width:"auto"},variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(l.jsx)(M.a,{id:"outlined-adornment-password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handlePasswordChange,endAdornment:Object(l.jsx)(P.a,{position:"end",children:Object(l.jsx)(W.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownShowPassword,edge:"end",children:this.state.showPassword?Object(l.jsx)(I.a,{}):Object(l.jsx)(B.a,{})})}),label:"Password"})]}),Object(l.jsxs)(xe,{sx:{m:1,width:"auto","&&expanded":{margin:1}},children:[Object(l.jsx)(je.a,{children:Object(l.jsx)(y.a,{children:"Personal Details (Optional)"})}),Object(l.jsxs)(be.a,{children:[Object(l.jsx)(y.a,{sx:{marginTop:-1,marginBottom:1,fontSize:14},color:"text.secondary",children:"This info will help us provide reports on your strength."}),Object(l.jsxs)(C.a,{sx:{marginBottom:1,width:"auto"},variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Height (cm)"}),Object(l.jsx)(M.a,{id:"outlined-email",type:"number",value:this.state.height,onChange:this.handleHeightChange,label:"Height (cm)"})]}),Object(l.jsxs)(C.a,{sx:{width:"auto"},variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Weight (kg)"}),Object(l.jsx)(M.a,{id:"outlined-email",type:"number",value:this.state.weight,onChange:this.handleWeightChange,label:"Weight (kg)"})]})]})]}),this.state.errorMessage&&Object(l.jsx)(T.a,{severity:"error",sx:{margin:1,marginTop:0,width:"auto"},onClose:function(){e.setState({errorMessage:""})},children:this.state.errorMessage}),Object(l.jsx)(pe.a,{title:this.state.tooltip.map((function(e){return Object(l.jsx)("p",{id:e,children:e})})),children:Object(l.jsx)("span",{style:{width:"100%"},children:Object(l.jsx)(D.a,{sx:{margin:1,width:"95%"},variant:"contained",disabled:this.state.canSubmit,onClick:Object(p.a)(v.a.mark((function a(){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t(e.state.name,e.state.email,e.state.password,e.state.weight,e.state.height),e.handleSignUpProcessing();case 2:case"end":return a.stop()}}),a)}))),children:"Create Account"})})})]})]})})]})}}]),a}(n.a.Component),we=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(l.jsxs)(k.a,{sx:{width:320,maxWidth:"90vw",padding:1,display:"grid",justifyContent:"center"},children:[Object(l.jsx)($.a,{component:"img",height:"200",style:{width:"95%",marginLeft:7,marginBottom:8},src:"/imgs/tmw_logo.JPG"}),Object(l.jsx)(y.a,{sx:{m:1,display:"flex",justifyContent:"center"},children:"Create and plan your workouts"}),Object(l.jsx)(y.a,{sx:{m:1,display:"flex",justifyContent:"center"},children:"Log in or sign up to get started"}),Object(l.jsx)(ie,{closeMenu:null,buttonFlag:!0,ref:this.props.loginRef,appLoginHandler:this.props.appLoginHandler}),Object(l.jsx)(me,{splash:!0,appSignUpHandler:this.props.showSignUp,signUpSubmit:this.props.signUpSubmit,ref:this.props.signUpRef,signUpOpen:this.props.signUp})]})})}}]),a}(n.a.Component),fe=we,ve=a(232),ye=a(204),ke=a(406),Ce=a(407),Se=a(410),Me=a(435),Pe=a(408),We=a(409),De=a(44),Te=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n,r=new Date;return n=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate(),s.state={date:r,dateString:n,user:s.props.user,exercises:s.props.workout.exercises,redirect:!1,userWorkout:""},s.scheduleWorkout=s.scheduleWorkout.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:if(!(a<this.state.exercises.length)){e.next=13;break}return e.next=5,Object(c.e)(this.state.exercises[a].exerciseId);case 5:s=e.sent,(n=s.data()).sets=this.state.exercises[a].sets,n.exerciseId=this.state.exercises[a].exerciseId,t.push(n);case 10:a++,e.next=2;break;case 13:this.setState({exercises:t});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scheduleWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.workout.exercises,a=Object(c.d)(this.context.database,"workouts",this.props.workout.id),s=Object(c.d)(this.context.database,"users",this.context.user.uid),t.forEach((function(e){for(var t=[],a=0;a<r.props.workout.sets;a++){var s={};s.reps=e.reps,s.weight=0,t.push(s)}e.sets=t})),e.next=6,Object(c.a)(Object(c.b)(this.context.database,"user-workouts"),{completed:!1,date:this.state.date,dateString:this.state.dateString,exercises:t,user:s,workout:a});case 6:n=e.sent,console.log("User Workout added to database: "+n.id),this.setState({redirect:!0,userWorkout:n.id});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)(ue.a,{id:this.props.workout.id,children:[this.state.redirect&&Object(l.jsx)(De.a,{push:!0,to:"workout/".concat(this.state.userWorkout)}),Object(l.jsxs)(je.a,{"aria-controls":"panel2a-content",id:"panel2a-header",fullWidth:!0,sx:{"&:hover":{bgcolor:"primary.dark",color:"primary.light"}},children:[Object(l.jsx)(y.a,{sx:{fontSize:14,width:"50%",flexShrink:0},children:this.props.workout.name}),Object(l.jsx)(y.a,{sx:{fontSize:14,color:"text.secondary",width:"30%",flexShrink:0},children:this.props.workout.targetMuscleGroup}),Object(l.jsxs)(y.a,{sx:{fontSize:14,color:"text.secondary",width:"33%",flexShrink:0},children:[this.props.workout.length," Mins"]})]}),Object(l.jsxs)(be.a,{children:[Object(l.jsx)(D.a,{size:"small",variant:"contained",style:{margin:2},onClick:this.scheduleWorkout,children:"Start this workout"}),Object(l.jsxs)(y.a,{sx:{fontSize:15},children:["Sets: ",this.props.workout.sets," Reps: ",this.props.workout.exercises[0].reps]}),Object(l.jsx)(ke.a,{}),Object(l.jsxs)(Ce.a,{size:"small",children:[Object(l.jsx)(Pe.a,{children:Object(l.jsxs)(We.a,{children:[Object(l.jsx)(Me.a,{children:"Exercises:"}),Object(l.jsx)(Me.a,{children:"Target Muscle:"})]})}),Object(l.jsx)(Se.a,{children:this.state.exercises.map((function(e,t){return Object(l.jsxs)(We.a,{children:[Object(l.jsx)(Me.a,{children:e.name}),Object(l.jsx)(Me.a,{children:e.dominantMuscle})]},e.id)}))})]})]})]})}}]),a}(n.a.Component);Te.contextType=h;var Ee=Te,Be=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={user:s.props.user,search:"",muscleGroup:"",workouts:[],startWorkoutOpen:!1},s.handleSearchBoxChange=s.handleSearchBoxChange.bind(Object(O.a)(s)),s.handleMuscleGroupChange=s.handleMuscleGroupChange.bind(Object(O.a)(s)),s.switchModalState=s.switchModalState.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"workouts")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),console.log(t),a.setState({workouts:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleMuscleGroupChange",value:function(e){this.setState({muscleGroup:e.target.value})}},{key:"handleSearchBoxChange",value:function(e){"search"===e.target.id&&this.setState({search:e.target.value})}},{key:"filterByMuscleGroup",value:function(e){return function(t){return""===e||t.targetMuscleGroup===e}}},{key:"filterBySearch",value:function(e){return function(t){return""===e||(t.name.toLowerCase().includes(e.toLowerCase())||t.targetMuscleGroup.toLowerCase().includes(e.toLowerCase()))}}},{key:"handleChangePage",value:function(e,t){this.setState({page:t})}},{key:"switchModalState",value:function(){this.setState({workoutCreateOpen:!this.state.workoutCreateOpen})}},{key:"render",value:function(){return Object(l.jsx)("div",{style:{display:"grid",justifyContent:"center",marginBottom:66,width:"100%"},children:Object(l.jsx)(k.a,{sx:{width:600,maxWidth:"90vw",padding:1,margin:1,display:"grid",justifyContent:"center"},children:Object(l.jsxs)(_.a,{container:!0,spacing:2,children:[Object(l.jsx)(_.a,{item:!0,xs:6,children:Object(l.jsx)(ve.a,{fullWidth:!0,id:"search",label:"Search Workouts",type:"search",onChange:this.handleSearchBoxChange})}),Object(l.jsx)(_.a,{item:!0,xs:6,children:Object(l.jsxs)(C.a,{fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Target Muscle Group"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"muscle-group-select",value:this.state.muscleGroup,label:"Target Muscle Group",onChange:this.handleMuscleGroupChange,children:[Object(l.jsx)(ee.a,{value:"",children:"All"}),Object(l.jsx)(ee.a,{value:"Full Body",children:"Full Body"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Back",children:"Back"}),Object(l.jsx)(ee.a,{value:"Arms",children:"Arms"}),Object(l.jsx)(ee.a,{value:"Core",children:"Core"}),Object(l.jsx)(ee.a,{value:"Legs",children:"Legs"})]})]})}),Object(l.jsxs)(_.a,{item:!0,xs:12,children:[Object(l.jsx)(ue.a,{disabled:!0,children:Object(l.jsxs)(je.a,{"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(l.jsx)(y.a,{sx:{width:"45%",flexShrink:0},children:"Workout"}),Object(l.jsx)(y.a,{sx:{color:"text.secondary",width:"35%",flexShrink:0},children:"Target Muscle"}),Object(l.jsx)(y.a,{sx:{color:"text.secondary",width:"20%",flexShrink:0},children:"Duration"})]})}),this.state.workouts.filter(this.filterBySearch(this.state.search)).filter(this.filterByMuscleGroup(this.state.muscleGroup)).map((function(e){return Object(l.jsx)(Ee,{workout:e})}))]})]})})})}}]),a}(n.a.Component);Be.contextType=h;var Ue=Be,Ie=a(102),Le=a(11),Ge=a(247),Ne=a.n(Ge),Fe=a(436),Ae=a(437),Re=a(438),He=a(439),qe=Object(Le.a)((function(e){return Object(l.jsx)(ue.a,Object(Ie.a)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),ze=Object(Le.a)((function(e){return Object(l.jsx)(je.a,Object(Ie.a)({expandIcon:Object(l.jsx)(Ne.a,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),Ye=Object(Le.a)(be.a)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),Ve=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={workouts:[],expanded:""},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleChange",value:function(e){e===this.state.expanded&&(e=!1),this.setState({expanded:e})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.d)(this.context.database,"users",this.context.user.uid);case 2:t=e.sent,a=[],s=Object(c.h)(Object(c.b)(this.context.database,"user-workouts"),Object(c.k)("user","==",t),Object(c.k)("completed","==",!0)),Object(c.g)(s,function(){var e=Object(p.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(p.a)(v.a.mark((function e(t){var s,r,i,o,l,d,h,u,j;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=t.data()).id=t.id,(r=new Date).setTime(1e3*s.date.seconds),s.date.date=r,i=s.workout,e.next=8,Object(c.e)(i);case 8:o=e.sent,l=o.data(),s.workout=l,s.workout.ref=i,d=[],h=0;case 14:if(!(h<s.exercises.length)){e.next=25;break}return e.next=17,Object(c.e)(s.exercises[h].exerciseId);case 17:u=e.sent,(j=u.data()).sets=s.exercises[h].sets,j.exerciseId=s.exercises[h].exerciseId,d.push(j);case 22:h++,e.next=14;break;case 25:s.exercises=d,a.push(s),n.setState({workouts:a});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(p.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{style:{width:"fit-content",marginBottom:66},children:[Object(l.jsx)(qe,{id:"header",expanded:!1,children:Object(l.jsxs)(je.a,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[Object(l.jsx)(y.a,{style:{cursor:"default",width:200,paddingLeft:"1.25em",marginRight:6},children:"Workout"}),Object(l.jsx)(y.a,{style:{width:120,marginRight:6},children:"Target"}),Object(l.jsx)(y.a,{style:{width:120,marginRight:6},children:"Date"})]})}),this.state.workouts.map((function(t){return Object(l.jsxs)(qe,{id:t.id,expanded:e.state.expanded===t.id,onChange:function(){return e.handleChange(t.id)},children:[Object(l.jsxs)(ze,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[Object(l.jsx)(y.a,{style:{width:200,marginRight:6},children:t.workout.name}),Object(l.jsx)(y.a,{style:{width:120,marginRight:6},children:t.workout.targetMuscleGroup}),Object(l.jsxs)(y.a,{style:{width:120,marginRight:6},children:[t.date.date.getDate(),"/",t.date.date.getMonth(),"/",t.date.date.getFullYear()]})]}),Object(l.jsx)(Ye,{children:Object(l.jsxs)(Fe.a,{size:"small",children:[Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(Re.a,{style:{},children:[Object(l.jsx)(He.a,{style:{width:150,fontWeight:600},children:"Exercise"}),Object(l.jsx)(He.a,{style:{width:110,fontWeight:600},children:"Target Muscle"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=1?"":"none"},children:"Set 1"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=2?"":"none"},children:"Set 2"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=3?"":"none"},children:"Set 3"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=4?"":"none"},children:"Set 4"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=5?"":"none"},children:"Set 5"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=6?"":"none"},children:"Set 6"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=7?"":"none"},children:"Set 7"}),Object(l.jsx)(He.a,{style:{width:50,fontWeight:600,display:t.exercises[0].sets.length>=8?"":"none"},children:"Set 8"})]})}),Object(l.jsx)(Re.a,{children:t.exercises.map((function(e){return Object(l.jsxs)(Re.a,{children:[Object(l.jsx)(He.a,{style:{width:150},children:e.name}),Object(l.jsx)(He.a,{style:{width:110},children:e.dominantMuscle}),e.sets.map((function(e,t){return Object(l.jsxs)(He.a,{style:{width:50},children:[e.weight," kg"]})}))]})}))})]})})]})}))]})}}]),a}(n.a.Component);Ve.contextType=h;var Je=Ve,Ke=a(12),Qe={backgroundColor:"#e0e0e0",padding:4,margin:4,maxWidth:"100%"},$e={fontWeight:500,display:"flex",justifyContent:"center"},_e={m:1,backgroundColor:"white"},Xe={display:"flex",margin:1,width:"97.5%",height:"1.4375em",padding:"16.5px 14px",fontSize:"1rem"},Ze=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a);var n=!0;(s=t.call(this,e)).props.details.set=s.props.set,s.props.set===s.props.currSet&&s.props.currExercise===s.props.details.name&&(n=!1);var r=!0;return void 0!==s.props.details.weight&&0!==s.props.details.weight||(r=!1),s.state={currSet:n,weight:s.props.details.weight,reps:s.props.details.reps,overrideWorkoutSet:!1,shrink:r},s.handleTextChange=s.handleTextChange.bind(Object(O.a)(s)),s.handleDoubleClick=s.handleDoubleClick.bind(Object(O.a)(s)),s.handleBlur=s.handleBlur.bind(Object(O.a)(s)),s.shrinkInput=s.shrinkInput.bind(Object(O.a)(s)),s.expandInput=s.expandInput.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleTextChange",value:function(e){"outlined-weight"===e.target.id&&(this.setState({weight:e.target.value}),this.props.details.weight=parseFloat(e.target.value,10)),"outlined-reps"===e.target.id&&(this.setState({reps:e.target.value}),this.props.details.reps=parseFloat(e.target.value,10))}},{key:"handleDoubleClick",value:function(){this.setState({currSet:!1,overrideWorkoutSet:!0})}},{key:"handleBlur",value:function(){this.state.overrideWorkoutSet&&this.setState({currSet:!0,overrideWorkoutSet:!1})}},{key:"componentDidUpdate",value:function(e,t){this.props.currSet===this.props.set&&this.state.currSet&&this.props.currExercise===this.props.details.name?this.setState({currSet:!1}):this.state.overrideWorkoutSet||this.state.currSet||this.props.currSet===this.props.set&&this.props.currExercise===this.props.details.name||this.setState({currSet:!0}),this.props.currExercise===this.props.details.name&&void 0!==this.props.details.weight&&void 0===t.weight&&this.setState({weight:this.props.details.weight,shrink:!0})}},{key:"shrinkInput",value:function(){this.setState({shrink:!0})}},{key:"expandInput",value:function(e){""===e.target.value&&this.setState({shrink:!1})}},{key:"render",value:function(){var e=this,t=this.state.overrideWorkoutSet?function(){e.props.saveExercise(e.props.details,e.props.set,e.props.exerciseIndex),e.handleBlur()}:null;return Object(l.jsxs)(_.a,{item:!0,xs:12,id:this.state.Exercise+"-"+this.props.set,onBlur:t,onDoubleClick:this.handleDoubleClick,style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(l.jsxs)(_.a,{container:!0,spacing:1,style:{width:"100%",display:"flex",flexDirection:"row"},children:[Object(l.jsx)(_.a,{item:!0,xs:8,children:Object(l.jsxs)(C.a,{fullWidth:!0,sx:_e,variant:"outlined",children:[Object(l.jsx)(S.a,{shrink:this.state.shrink,htmlFor:"outlined-weight",children:"Weight (kg)"}),Object(l.jsx)(M.a,{id:"outlined-weight",type:"number",onClick:this.shrinkInput,onBlur:this.expandInput,value:this.state.weight,onChange:this.handleTextChange,label:"Weight (KG)",disabled:this.state.currSet})]})}),Object(l.jsx)(_.a,{item:!0,xs:4,children:Object(l.jsxs)(C.a,{sx:_e,variant:"outlined",children:[Object(l.jsx)(S.a,{htmlFor:"outlined-email",children:"Reps"}),Object(l.jsx)(M.a,{id:"outlined-reps",type:"number",value:this.state.reps,onChange:this.handleTextChange,label:"Reps",disabled:this.state.currSet})]})})]}),!this.state.currSet&&!this.state.overrideWorkoutSet&&Object(l.jsx)(D.a,{disabled:!(this.state.weight>0||this.props.details.weight),variant:"contained",onClick:function(){e.props.saveExercise(e.props.details,e.props.set,e.props.exerciseIndex)},style:Xe,children:"Save Set"})]})}}]),a}(n.a.Component);function et(e){for(var t=[],a=0;a<e.sets;a++)t.push(Object(l.jsx)(_.a,{item:!0,xs:12,children:Object(l.jsx)(Ze,{currExercise:e.currExercise,exerciseIndex:e.exerciseIndex,saveExercise:e.saveExercise,set:a+1,currSet:e.currSet,details:e.details})}));return Object(l.jsxs)(k.a,{style:Qe,children:[Object(l.jsx)(_.a,{item:!0,xs:12,children:Object(l.jsx)(y.a,{style:$e,children:e.details.name})}),Object(l.jsx)(_.a,{item:!0,xs:12,children:Object(l.jsxs)(ue.a,{sx:{m:1,width:"auto","&&expanded":{margin:1}},children:[Object(l.jsx)(je.a,{children:Object(l.jsx)(y.a,{children:"Expand for info"})}),Object(l.jsxs)(be.a,{style:{display:"grid",alignItems:"center"},children:[Object(l.jsxs)(y.a,{style:{marginBottom:12},children:[Object(l.jsx)("b",{children:"Target Muscle:"})," ",e.details.dominantMuscle," ",Object(l.jsx)("br",{})]}),Object(l.jsxs)(y.a,{style:{marginBottom:12},children:[Object(l.jsx)("b",{children:"Exercise Guide:"})," ",e.details.exerciseGuide]}),Object(l.jsx)(D.a,{variant:"contained",color:"success",children:"See More"})]})]})}),t]})}var tt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(l.jsx)(_.a,{container:!0,children:Object(l.jsx)(_.a,{item:!0,xs:12,children:Object(l.jsx)(et,{currExercise:this.props.currExercise,exerciseIndex:this.props.exerciseIndex,saveExercise:this.props.saveExercise,currSet:this.props.currSet,details:this.props.details,sets:this.props.sets})})})}}]),a}(n.a.Component),at=tt,st={marginTop:1,marginBottom:1,width:80};var nt=function(e){var t=e.duration,a=e.startTimer,n=Object(s.useState)(!1),r=Object(Ke.a)(n,2),i=r[0],o=r[1],c=Object(s.useState)(t),d=Object(Ke.a)(c,2),h=d[0],u=d[1];return Object(s.useEffect)((function(){if(!0===i){var e=setTimeout((function(){u(h-1)}),1e3);return 0===h&&(clearTimeout(e),a()),function(){return clearTimeout(e)}}})),Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,flexDirection:"column",padding:5},children:[Object(l.jsx)(y.a,{variant:"h5",children:"Rest"}),i?Object(l.jsx)(y.a,{variant:"h4",children:h}):Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:4,flexDirection:"column",padding:5},children:[Object(l.jsx)(y.a,{children:"Set Timer"}),Object(l.jsxs)(C.a,{sx:st,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Seconds"}),Object(l.jsx)(M.a,{id:"timer-length",type:"number",value:h,onChange:function(e){u(e.target.value)},label:"Seconds"})]})]}),i?Object(l.jsx)(D.a,{size:"small",onClick:a,variant:"contained",children:"Finish"}):Object(l.jsx)(D.a,{size:"small",onClick:function(){return o(!0)},variant:"contained",color:"success",children:" Start Timer "})]})},rt=a(206),it={position:"absolute",marginTop:8,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:150,bgcolor:"background.paper",boxShadow:24,padding:4};function ot(e){var t=Object(s.useState)(),a=Object(Ke.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(),o=Object(Ke.a)(i,2),d=o[0],u=o[1],j=Object(s.useState)([]),b=Object(Ke.a)(j,2),x=b[0],g=b[1],O=Object(s.useState)(1),m=Object(Ke.a)(O,2),w=m[0],f=m[1],k=Object(s.useState)(0),C=Object(Ke.a)(k,2),S=C[0],M=C[1],P=Object(s.useState)(""),W=Object(Ke.a)(P,2),T=W[0],E=W[1],B=Object(s.useState)(!1),U=Object(Ke.a)(B,2),I=U[0],L=U[1],G=Object(s.useRef)(!1),N=Object(s.useContext)(h),F=Object(De.g)().userWorkoutId,A=Object(c.d)(N.database,"user-workouts",F);function R(){return(R=Object(p.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G=!0,e.next=3,Object(c.e)(A);case 3:if(!(t=e.sent).exists()){e.next=9;break}return a=t.data(),r(a),e.next=9,H(a.workout);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(v.a.mark((function e(t){var a,s,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,Object(c.e)(a);case 3:(s=e.sent).exists()&&(n=s.data(),u(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(p.a)(v.a.mark((function e(){var t,a,s,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=x,a=0;case 2:if(!(a<n.exercises.length)){e.next=14;break}return s=n.exercises[a].exerciseId,e.next=6,Object(c.e)(s);case 6:r=e.sent,(i=r.data()).reps=d.exercises[a].reps,i.weight=n.exercises[a].weight,t=t.concat(i);case 11:a++,e.next=2;break;case 14:console.log(t),g(t),E(t[S].name),G=!1;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t,a){n.exercises[a].sets[t-1].weight=e.weight,n.exercises[a].sets[t-1].reps=e.reps;var s=x;s[a].weight=e.weight,g(s),w+1<=d.sets?f(w+1):S===x.length-1?(console.log("Workout Complete"),E("None")):(M(S+1),E(x[S+1].name),f(1)),L(!0)}function V(){return(V=Object(p.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.completed=!0,console.log(n),Object(c.j)(A,n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){L(!I)}return d||function(){R.apply(this,arguments)}(),Object(s.useEffect)((function(){!G.current&&d&&(G.current=!0,function(){z.apply(this,arguments)}())})),Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"70px"},children:d&&x.length>0?Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(l.jsx)(y.a,{variant:"h5",style:{display:"flex",justifyContent:"center"},children:d.name}),x.map((function(e,t){return Object(l.jsx)(at,{id:"card-"+t,exerciseIndex:t,currExercise:T,saveExercise:Y,currSet:w,details:e,sets:d.sets})})),"None"===T&&Object(l.jsx)(D.a,{variant:"contained",onClick:function(){return V.apply(this,arguments)},children:"Finish Workout"}),Object(l.jsx)(Z.a,{open:I,onClose:J,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:it,children:Object(l.jsx)(rt.a,{children:Object(l.jsx)(nt,{duration:60,startTimer:J})})})})]}):Object(l.jsx)("div",{children:"Loading workout..."})})}var ct=a(440),lt={height:150,marginBottom:12},dt={height:"80%",padding:20,paddingLeft:40,paddingRight:40,marginTB:10},ht={width:"100%",padding:1,paddingLeft:5,display:"flex",justifyContent:"center",fontWeight:550},ut={fontSize:"1.15em",display:"flex",justifyContent:"center"},jt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(l.jsxs)(_.a,{container:!0,spacing:2,style:{marginBottom:64},children:[Object(l.jsx)(_.a,{item:!0,xs:12,sm:6,style:lt,children:Object(l.jsx)(ct.a,{component:oe.b,to:"/create-workout",style:{textDecoration:"none"},children:Object(l.jsxs)(rt.a,{style:dt,children:[Object(l.jsx)(y.a,{style:ht,children:"Create Workout"}),Object(l.jsx)(y.a,{style:ut,children:"Create a new workout, that users will be able to select to do."})]})})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:6,style:lt,children:Object(l.jsx)(ct.a,{component:oe.b,to:"/create-exercise",style:{textDecoration:"none"},children:Object(l.jsxs)(rt.a,{style:dt,children:[Object(l.jsx)(y.a,{style:ht,children:"Create Exercise"}),Object(l.jsx)(y.a,{style:ut,children:"Create a new exercise, that will be available when creating a workout."})]})})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:6,style:lt,children:Object(l.jsx)(ct.a,{component:oe.b,to:"/edit-exercises",style:{textDecoration:"none"},children:Object(l.jsxs)(rt.a,{style:dt,children:[Object(l.jsx)(y.a,{style:ht,children:"Edit Exercises"}),Object(l.jsx)(y.a,{style:ut,children:"Make changes to the existing exercises."})]})})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:6,style:lt,children:Object(l.jsx)(ct.a,{component:oe.b,to:"/edit-workouts",style:{textDecoration:"none"},children:Object(l.jsxs)(rt.a,{style:dt,children:[Object(l.jsx)(y.a,{style:ht,children:"Edit Workouts"}),Object(l.jsx)(y.a,{style:ut,children:"Make changes to the existing workouts."})]})})})]})}}]),a}(n.a.Component),bt=jt,pt=a(442),xt=a(331),gt=a(443),Ot=a(441),mt={backgroundColor:"white",marginBottom:".5em",width:"85vw",marginLeft:1},wt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",display:"flex",justifyContent:"center",backgroundColor:"background.paper",boxShadow:24,padding:12},ft=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={open:!1,id:s.props.exercise.id,exerciseName:s.props.exercise.name,dominantMuscle:s.props.exercise.dominantMuscle,synergisticMuscle:"",exerciseGuide:s.props.exercise.exerciseGuide,exerciseTutorial:"",exerciseSubType:s.props.exercise.exerciseSubType,img:"",openDialog:!1,exercises:[]},s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.handleMuscleChange=s.handleMuscleChange.bind(Object(O.a)(s)),s.changeDialogState=s.changeDialogState.bind(Object(O.a)(s)),s.handleTypeChange=s.handleTypeChange.bind(Object(O.a)(s)),s.handleClose=s.handleClose.bind(Object(O.a)(s)),s.updateExercise=s.updateExercise.bind(Object(O.a)(s)),s.deleteExercise=s.deleteExercise.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleTextBoxChange",value:function(e){"exercise-name"===e.target.id&&this.setState({exerciseName:e.target.value}),"exercise-guide"===e.target.id&&this.setState({exerciseGuide:e.target.value})}},{key:"handleMuscleChange",value:function(e){this.setState({dominantMuscle:e.target.value})}},{key:"handleTypeChange",value:function(e){this.setState({exerciseSubType:e.target.value})}},{key:"changeDialogState",value:function(){this.setState({openDialog:!this.state.openDialog})}},{key:"handleClose",value:function(){this.setState({open:!this.state.open})}},{key:"updateExercise",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(c.d)(this.context.database,"exercises",this.state.id),e.next=3,Object(c.j)(t,{name:this.state.exerciseName,dominantMuscle:this.state.dominantMuscle,exerciseGuide:this.state.exerciseGuide,exerciseSubType:this.state.exerciseSubType,exerciseType:"resistance"});case 3:this.setState({open:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteExercise",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(c.d)(this.context.database,"exercises",this.state.id),this.setState({open:!1}),e.next=4,Object(c.c)(t).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(D.a,{onClick:this.handleClose,children:"Edit"}),Object(l.jsx)(Z.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:wt,children:Object(l.jsxs)(rt.a,{style:{margin:2},children:[Object(l.jsx)(y.a,{variant:"h5",style:{paddingTop:6,paddingLeft:8,marginBottom:".5em"},children:"Edit Exercise"}),Object(l.jsxs)(C.a,{sx:mt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Name"}),Object(l.jsx)(M.a,{id:"exercise-name",type:"text",value:this.state.exerciseName,onChange:this.handleTextBoxChange,label:"Name"})]}),Object(l.jsxs)(C.a,{sx:mt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Primary Muscle"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"primary-muscle-select",value:this.state.dominantMuscle,label:"Primary Muscle",onChange:this.handleMuscleChange,children:[Object(l.jsx)(Ot.a,{children:"Shoulders, Chest and Back"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Traps",children:"Traps"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Lats",children:"Lats"}),Object(l.jsx)(Ot.a,{children:"Arms"}),Object(l.jsx)(ee.a,{value:"Triceps",children:"Triceps"}),Object(l.jsx)(ee.a,{value:"Biceps",children:"Biceps"}),Object(l.jsx)(Ot.a,{children:"Core"}),Object(l.jsx)(ee.a,{value:"Abs",children:"Abs"}),Object(l.jsx)(ee.a,{value:"Obliques",children:"Obliques"}),Object(l.jsx)(ee.a,{value:"Spinal Erectors",children:"Spinal Erectors"}),Object(l.jsx)(Ot.a,{children:"Legs"}),Object(l.jsx)(ee.a,{value:"Quads",children:"Quads"}),Object(l.jsx)(ee.a,{value:"Hamstrings",children:"Hamstrings"}),Object(l.jsx)(ee.a,{value:"Calves",children:"Calves"})]})]}),Object(l.jsxs)(C.a,{sx:mt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Exercise Type"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"primary-muscle-select",value:this.state.exerciseSubType,label:"Exercise Type",onChange:this.handleTypeChange,children:[Object(l.jsx)(ee.a,{value:"Compound Lift",children:"Compound Lift"}),Object(l.jsx)(ee.a,{value:"Isolation",children:"Isolation Exercise"}),Object(l.jsx)(ee.a,{value:"Machine",children:"Machine"})]})]}),Object(l.jsx)(C.a,{sx:mt,variant:"outlined",required:!0,children:Object(l.jsx)(ve.a,{id:"exercise-guide",label:"Exercise Guide",multiline:!0,rows:4,value:this.state.exerciseGuide,placeholder:"Enter a guide for the exercise here",onChange:this.handleTextBoxChange})}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:4,marginBottom:8},children:[Object(l.jsx)(D.a,{variant:"contained",color:"success",onClick:this.updateExercise,children:"Save Exercise"}),Object(l.jsx)(D.a,{variant:"contained",color:"error",onClick:this.deleteExercise,children:"Delete Exercise"})]})]})})})]})}}]),a}(n.a.Component);ft.contextType=h;var vt=ft,yt={display:"grid",justifyContent:"center",backgroundColor:"#e0e0e0",padding:6,paddingBottom:16,paddingTop:16,margin:4,width:"90vw"},kt={backgroundColor:"white",marginBottom:".5em",width:"85vw"},Ct=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={exerciseName:"",dominantMuscle:"",synergisticMuscle:"",exerciseGuide:"",exerciseTutorial:"",exerciseSubType:"",img:"",openDialog:!1,exercises:[]},s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.handleMuscleChange=s.handleMuscleChange.bind(Object(O.a)(s)),s.changeDialogState=s.changeDialogState.bind(Object(O.a)(s)),s.createExercise=s.createExercise.bind(Object(O.a)(s)),s.handleTypeChange=s.handleTypeChange.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.h)(Object(c.b)(this.context.database,"exercises"),Object(c.k)("exerciseType","==","resistance")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();t.push({data:a})})),t.length!==a.state.exercises.length&&a.setState({exercises:t})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTextBoxChange",value:function(e){"exercise-name"===e.target.id&&this.setState({exerciseName:e.target.value}),"exercise-guide"===e.target.id&&this.setState({exerciseGuide:e.target.value})}},{key:"handleMuscleChange",value:function(e){this.setState({dominantMuscle:e.target.value})}},{key:"handleTypeChange",value:function(e){this.setState({exerciseSubType:e.target.value})}},{key:"changeDialogState",value:function(){this.setState({openDialog:!this.state.openDialog})}},{key:"createExercise",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Creating Exercise..."),this.props.modalCloser&&this.props.modalCloser(),e.next=4,Object(c.a)(Object(c.b)(this.context.database,"exercises"),{name:this.state.exerciseName,dominantMuscle:this.state.dominantMuscle,exerciseGuide:this.state.exerciseGuide,exerciseSubType:this.state.exerciseSubType,exerciseType:"resistance"});case 4:t=e.sent,console.log("Document added to Firestore: "+t.id),this.changeDialogState();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{style:{display:"grid",justifyContent:"center"},children:[Object(l.jsxs)(k.a,{style:yt,children:[Object(l.jsx)(y.a,{variant:"h5",style:{marginBottom:".5em"},children:"Create Exercise"}),Object(l.jsxs)(C.a,{sx:kt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Name"}),Object(l.jsx)(M.a,{id:"exercise-name",type:"text",value:this.state.exerciseName,onChange:this.handleTextBoxChange,label:"Name"})]}),Object(l.jsxs)(C.a,{sx:kt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Primary Muscle"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"primary-muscle-select",value:this.state.dominantMuscle,label:"Primary Muscle",onChange:this.handleMuscleChange,children:[Object(l.jsx)(Ot.a,{children:"Shoulders, Chest and Back"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Traps",children:"Traps"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Lats",children:"Lats"}),Object(l.jsx)(Ot.a,{children:"Arms"}),Object(l.jsx)(ee.a,{value:"Triceps",children:"Triceps"}),Object(l.jsx)(ee.a,{value:"Biceps",children:"Biceps"}),Object(l.jsx)(Ot.a,{children:"Core"}),Object(l.jsx)(ee.a,{value:"Abs",children:"Abs"}),Object(l.jsx)(ee.a,{value:"Obliques",children:"Obliques"}),Object(l.jsx)(ee.a,{value:"Spinal Erectors",children:"Spinal Erectors"}),Object(l.jsx)(Ot.a,{children:"Legs"}),Object(l.jsx)(ee.a,{value:"Quads",children:"Quads"}),Object(l.jsx)(ee.a,{value:"Hamstrings",children:"Hamstrings"}),Object(l.jsx)(ee.a,{value:"Calves",children:"Calves"}),Object(l.jsx)(ee.a,{value:"Glutes",children:"Glutes"})]})]}),Object(l.jsxs)(C.a,{sx:kt,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Exercise Type"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"primary-muscle-select",value:this.state.exerciseSubType,label:"Exercise Type",onChange:this.handleTypeChange,children:[Object(l.jsx)(ee.a,{value:"Compound Lift",children:"Compound Lift"}),Object(l.jsx)(ee.a,{value:"Isolation",children:"Isolation Exercise"}),Object(l.jsx)(ee.a,{value:"Machine",children:"Machine"}),Object(l.jsx)(ee.a,{value:"Core",children:"Core"})]})]}),Object(l.jsx)(C.a,{sx:kt,variant:"outlined",required:!0,children:Object(l.jsx)(ve.a,{id:"exercise-guide",label:"Exercise Guide",multiline:!0,rows:4,value:this.state.exerciseGuide,placeholder:"Enter a guide for the exercise here",onChange:this.handleTextBoxChange})}),Object(l.jsx)(D.a,{variant:"contained",color:"success",onClick:this.changeDialogState,children:"Create Exercise"})]}),Object(l.jsxs)(L.a,{open:this.state.openDialog,onClose:this.changeDialogState,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(l.jsx)(A.a,{id:"alert-dialog-title",children:"Create new exercise?"}),Object(l.jsxs)(N.a,{children:[Object(l.jsxs)(y.a,{children:[Object(l.jsx)("b",{children:"Exercise Name:"})," ",this.state.exerciseName," ",Object(l.jsx)("br",{})]}),Object(l.jsxs)(y.a,{children:[Object(l.jsx)("b",{children:"Target Muscle:"})," ",this.state.dominantMuscle," ",Object(l.jsx)("br",{})]}),Object(l.jsxs)(y.a,{children:[Object(l.jsx)("b",{children:"Exercise Guide:"})," ",this.state.exerciseGuide," ",Object(l.jsx)("br",{})]})]}),Object(l.jsxs)(G.a,{children:[Object(l.jsx)(D.a,{onClick:this.changeDialogState,children:"Disagree"}),Object(l.jsx)(D.a,{onClick:this.createExercise,autoFocus:!0,children:"Agree"})]})]})]})}}]),a}(n.a.Component);Ct.contextType=h;var St=Ct,Mt={fontWeight:550},Pt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,p:4},Wt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={creator:"",exercises:[],selectedExercises:[],rowsPerPage:10,page:0,exerciseCreateOpen:!1},s.handleChangePage=s.handleChangePage.bind(Object(O.a)(s)),s.handleChangeRowsPerPage=s.handleChangeRowsPerPage.bind(Object(O.a)(s)),s.switchModalState=s.switchModalState.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"exercises"),Object(c.k)("exerciseType","==","resistance")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),a.setState({exercises:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangePage",value:function(e,t){this.setState({page:t})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10),page:0})}},{key:"switchModalState",value:function(){this.setState({exerciseCreateOpen:!this.state.exerciseCreateOpen})}},{key:"render",value:function(){return Object(l.jsxs)("div",{style:{marginBottom:66},children:[Object(l.jsx)(pt.a,{children:Object(l.jsxs)(Fe.a,{children:[Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(gt.a,{id:"header-row",children:[Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:Mt,children:"Exercise Name"})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:Mt,children:"Exercise Type"})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:Mt,children:"Target Muscle"})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:Mt})})]})}),Object(l.jsx)(Re.a,{children:this.state.exercises.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e){return Object(l.jsxs)(gt.a,{id:e.id,children:[Object(l.jsx)(He.a,{children:e.name}),Object(l.jsx)(He.a,{children:e.exerciseSubType}),Object(l.jsx)(He.a,{children:e.dominantMuscle}),Object(l.jsx)(He.a,{children:Object(l.jsx)(vt,{exercise:e})})]})}))})]})}),Object(l.jsx)(xt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.state.exercises.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage}),Object(l.jsx)(D.a,{variant:"contained",onClick:this.switchModalState,style:{marginRight:4},children:"Add New Exercise"}),Object(l.jsx)(Z.a,{open:this.state.exerciseCreateOpen,onClose:this.switchModalState,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:Pt,children:Object(l.jsx)(St,{modalCloser:this.switchModalState})})})]})}}]),a}(n.a.Component);Wt.contextType=h;var Dt=Wt,Tt=a(418),Et=a(184),Bt={backgroundColor:"white"},Ut={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,overflowY:"auto"},It=[{field:"name",headerName:"Name",width:200},{field:"dominantMuscle",headerName:"Target Muscle",width:170},{field:"exerciseSubType",headerName:"Exercise Type",width:170}],Lt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={workoutName:"",workoutLength:45,workoutSets:3,workoutReps:10,muscleGroup:"",intensity:"",creator:"",exercises:[],selectedExercises:[],exerciseCreateOpen:!1,redirect:!1},s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.handleMuscleGroupChange=s.handleMuscleGroupChange.bind(Object(O.a)(s)),s.handleIntensityChange=s.handleIntensityChange.bind(Object(O.a)(s)),s.createWorkout=s.createWorkout.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.handleClose=s.handleClose.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleTextBoxChange",value:function(e){if("workout-name"===e.target.id&&this.setState({workoutName:e.target.value}),"workout-length"===e.target.id&&this.setState({workoutLength:e.target.value}),"workout-sets"===e.target.id){var t=e.target.value;t<1&&(t=1),t>8&&(t=8),this.setState({workoutSets:t})}if("workout-reps"===e.target.id){var a=e.target.value;a<1&&(a=1),this.setState({workoutReps:a})}}},{key:"handleMuscleGroupChange",value:function(e){this.setState({muscleGroup:e.target.value})}},{key:"handleIntensityChange",value:function(e){this.setState({intensity:e.target.value})}},{key:"createWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.props.modalCloser&&this.props.modalCloser(),console.log("Creating workout..."),t=[],a=0;a<this.state.selectedExercises.length;a++)s={},n=Object(c.d)(this.context.database,"exercises",this.state.selectedExercises[a]),s.exerciseId=n,s.reps=this.state.workoutReps,t.push(s);return e.next=6,Object(c.a)(Object(c.b)(this.context.database,"workouts"),{name:this.state.workoutName,sets:this.state.workoutSets,length:this.state.workoutLength,intensity:this.state.intensity,targetMuscleGroup:this.state.muscleGroup,exercises:t});case 6:r=e.sent,console.log("Document added to Firestore: "+r.id),this.setState({redirect:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"valuetext",value:function(e){return"".concat(e,"\xb0C")}},{key:"openModal",value:function(){this.setState({exerciseCreateOpen:!0})}},{key:"handleClose",value:function(){this.setState({exerciseCreateOpen:!1})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"exercises"),Object(c.k)("exerciseType","==","resistance")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),t.length!==a.state.exercises.length&&a.setState({exercises:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{style:{display:"flex",marginBottom:66,justifyContent:"center",height:"100%"},children:[this.state.redirect&&Object(l.jsx)(De.a,{push:!0,to:"edit-workouts"}),Object(l.jsxs)(_.a,{container:!0,spacing:1,children:[Object(l.jsx)(_.a,{item:!0,xs:12}),Object(l.jsx)(_.a,{item:!0,xs:8,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Workout Name"}),Object(l.jsx)(M.a,{id:"workout-name",type:"text",value:this.state.workoutName,onChange:this.handleTextBoxChange,label:"Workout Name"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Target Muscle Group"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"muscle-group-select",value:this.state.muscleGroup,label:"Target Muscle Group",onChange:this.handleMuscleGroupChange,children:[Object(l.jsx)(ee.a,{value:"Full Body",children:"Full Body"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Back",children:"Back"}),Object(l.jsx)(ee.a,{value:"Arms",children:"Arms"}),Object(l.jsx)(ee.a,{value:"Core",children:"Core"}),Object(l.jsx)(ee.a,{value:"Legs",children:"Legs"})]})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(y.a,{children:"Length (Minutes)"}),Object(l.jsx)(Tt.a,{id:"workout-length","aria-label":"Length",style:{width:"95%"},defaultValue:45,getAriaValueText:this.valuetext,valueLabelDisplay:"auto",step:15,marks:!0,min:0,max:180,onChange:this.handleTextBoxChange})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:2,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Sets"}),Object(l.jsx)(M.a,{id:"workout-sets",type:"number",value:this.state.workoutSets,onChange:this.handleTextBoxChange,label:"Sets"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:2,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Reps"}),Object(l.jsx)(M.a,{id:"workout-reps",type:"number",value:this.state.workoutReps,onChange:this.handleTextBoxChange,label:"Reps"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:Bt,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Workout Intensity"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"workout-intensity",value:this.state.intensity,label:"Workout Intensity",onChange:this.handleIntensityChange,children:[Object(l.jsx)(ee.a,{value:"1",children:"Light"}),Object(l.jsx)(ee.a,{value:"2",children:"Medium"}),Object(l.jsx)(ee.a,{value:"3",children:"Heavy"}),Object(l.jsx)(ee.a,{value:"4",children:"Extreme"})]})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,children:this.state.exercises.length>0&&Object(l.jsx)("div",{children:Object(l.jsx)(Et.a,{rows:this.state.exercises,columns:It,autoHeight:!0,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(t){e.setState({selectedExercises:t},(function(){return console.log(e.state.selectedExercises)}))}})})}),Object(l.jsxs)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",marginTop:4,marginBottom:8},children:[Object(l.jsx)(D.a,{variant:"contained",onClick:this.openModal,style:{marginRight:4},children:"Add New Exercise"}),Object(l.jsx)(Z.a,{open:this.state.exerciseCreateOpen,onClose:this.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:Ut,children:Object(l.jsx)(St,{})})}),Object(l.jsx)(D.a,{variant:"contained",color:"success",disabled:!(this.state.workoutName.length>0&&this.state.muscleGroup.length>0&&this.state.intensity.length>0&&this.state.selectedExercises.length>0),onClick:this.createWorkout,children:"Create Workout"})]})]})]})}}]),a}(n.a.Component);Lt.contextType=h;var Gt=Lt,Nt=a(414),Ft=a(413),At=a(328),Rt=a(138),Ht={position:"absolute",marginTop:8,top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,padding:4,display:"flex",justifyContent:"center",flexDirection:"column",gap:12},qt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n,r=new Date;return n=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate(),s.state={date:r,dateString:n},console.log(r+" "+n),s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.scheduleWorkout=s.scheduleWorkout.bind(Object(O.a)(s)),s.switchStartModalState=s.switchStartModalState.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleChange",value:function(e){this.setState({date:e})}},{key:"switchStartModalState",value:function(){this.setState({startWorkoutOpen:!this.state.startWorkoutOpen})}},{key:"scheduleWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.workout.exercises,a=Object(c.d)(this.context.database,"workouts",this.props.workout.id),s=Object(c.d)(this.context.database,"users",this.context.user.uid),t.forEach((function(e){for(var t=[],a=0;a<r.props.workout.sets;a++){var s={};s.reps=e.reps,s.weight=0,t.push(s)}e.sets=t})),e.next=6,Object(c.a)(Object(c.b)(this.context.database,"user-workouts"),{completed:!1,date:this.state.date,dateString:this.state.dateString,exercises:t,user:s,workout:a});case 6:n=e.sent,this.switchStartModalState(),console.log("User Workout added to database: "+n.id);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(D.a,{onClick:this.switchStartModalState,children:"Start Workout"}),Object(l.jsx)(Z.a,{open:this.state.startWorkoutOpen,onClose:this.switchStartModalState,"aria-labelledby":this.props.workout.id,"aria-describedby":this.props.workout.name,children:Object(l.jsx)(X.a,{style:Ht,children:Object(l.jsxs)(rt.a,{style:{padding:12,display:"flex",justifyContent:"center",flexDirection:"column",gap:12},children:[Object(l.jsx)(y.a,{variant:"h4",children:"Schedule Workout"}),Object(l.jsx)(y.a,{variant:"h5",children:this.props.workout.name}),Object(l.jsx)(At.b,{dateAdapter:Ft.a,locale:Rt.a,children:Object(l.jsx)(Nt.a,{label:"Pick a Date and Time",value:this.state.date,onChange:this.handleChange,renderInput:function(e){return Object(l.jsx)(ve.a,Object(Ie.a)({},e))}})}),Object(l.jsx)(D.a,{variant:"contained",color:"success",onClick:this.scheduleWorkout,children:"Schedule Workout"})]})})})]})}}]),a}(n.a.Component);qt.contextType=h;var zt=qt,Yt=a(265),Vt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={workouts:[],rowsPerPage:5,page:0,selected:null,muscleGroup:"",search:""},s.handleClick=s.handleClick.bind(Object(O.a)(s)),s.handleChangePage=s.handleChangePage.bind(Object(O.a)(s)),s.handleChangeRowsPerPage=s.handleChangeRowsPerPage.bind(Object(O.a)(s)),s.handleMuscleGroupChange=s.handleMuscleGroupChange.bind(Object(O.a)(s)),s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"workouts")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),a.setState({workouts:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterByMuscleGroup",value:function(e){return function(t){return""===e||t.targetMuscleGroup===e}}},{key:"filterBySearch",value:function(e){return function(t){return""===e||(t.name.toLowerCase().includes(e.toLowerCase())||t.targetMuscleGroup.toLowerCase().includes(e.toLowerCase()))}}},{key:"handleChangePage",value:function(e,t){this.setState({page:t})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10),page:0})}},{key:"handleMuscleGroupChange",value:function(e){this.setState({muscleGroup:e.target.value})}},{key:"handleClick",value:function(e,t){t.id===this.state.selected?(this.setState({selected:null}),this.props.updateWorkout(null,[])):(this.setState({selected:t.id}),this.props.updateWorkout(t,t.exercises))}},{key:"handleTextBoxChange",value:function(e){"search"===e.target.id&&this.setState({search:e.target.value})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(_.a,{container:!0,spacing:2,children:[Object(l.jsx)(_.a,{item:!0,xs:6,children:Object(l.jsx)(ve.a,{fullWidth:!0,id:"search",onChange:this.handleTextBoxChange,label:"Search",variant:"outlined"})}),Object(l.jsx)(_.a,{item:!0,xs:6,children:Object(l.jsxs)(C.a,{fullWidth:!0,children:[Object(l.jsx)(S.a,{htmlFor:"primary-muscle-select-label",children:"Target Muscle Group"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"muscle-group-select",value:this.state.muscleGroup,label:"Target Muscle Group",fullWidth:!0,onChange:this.handleMuscleGroupChange,children:[Object(l.jsx)(ee.a,{value:"",children:"All"}),Object(l.jsx)(ee.a,{value:"Full Body",children:"Full Body"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Back",children:"Back"}),Object(l.jsx)(ee.a,{value:"Arms",children:"Arms"}),Object(l.jsx)(ee.a,{value:"Core",children:"Core"}),Object(l.jsx)(ee.a,{value:"Legs",children:"Legs"})]})]})}),Object(l.jsxs)(_.a,{item:!0,xs:12,children:[Object(l.jsxs)(Fe.a,{size:"small",children:[Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(gt.a,{children:[Object(l.jsx)(He.a,{}),Object(l.jsx)(He.a,{children:"Name"}),Object(l.jsx)(He.a,{children:"Muscle Group"})]})}),Object(l.jsx)(Re.a,{children:this.state.workouts.filter(this.filterBySearch(this.state.search)).filter(this.filterByMuscleGroup(this.state.muscleGroup)).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(t,a){return Object(l.jsxs)(gt.a,{id:t.id,onClick:function(a){return e.handleClick(a,t)},children:[Object(l.jsx)(He.a,{children:Object(l.jsx)(Yt.a,{color:"primary",checked:t.id===e.state.selected,inputProps:{"aria-labelledby":t.id}})}),Object(l.jsx)(He.a,{children:t.name}),Object(l.jsx)(He.a,{children:t.targetMuscleGroup})]})}))})]}),Object(l.jsx)(xt.a,{style:{width:"99%",scroll:"none"},rowsPerPageOptions:[],component:"div",count:this.state.workouts.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage})]})]})}}]),a}(n.a.Component);Vt.contextType=h;var Jt=Vt,Kt={},Qt=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n,r=new Date;return n=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate(),s.state={date:r,dateString:n,sets:null,workout:null,exercises:[],userWorkout:""},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.startWorkout=s.startWorkout.bind(Object(O.a)(s)),s.updateWorkout=s.updateWorkout.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleChange",value:function(e){this.setState({date:e})}},{key:"handleTextBoxChange",value:function(e){"sets"===e.target.id&&e.target.value>0&&this.setState({sets:e.target.value})}},{key:"updateWorkout",value:function(e,t){this.setState({workout:e,exercises:t})}},{key:"startWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.exercises,a=Object(c.d)(this.context.database,"workouts",this.state.workout.id),s=Object(c.d)(this.context.database,"users",this.context.user.uid),t.forEach((function(e){for(var t=[],a=0;a<r.state.workout.sets;a++){var s={};s.reps=e.reps,s.weight=0,t.push(s)}e.sets=t})),e.next=6,Object(c.a)(Object(c.b)(this.context.database,"user-workouts"),{completed:!1,date:this.state.date,dateString:this.state.dateString,exercises:t,user:s,workout:a});case 6:n=e.sent,console.log("User Workout added to database: "+n.id),this.setState({redirect:!0,userWorkout:n.id});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)(_.a,{container:!0,spacing:2,style:{marginBottom:66},children:[this.state.redirect&&Object(l.jsx)(De.a,{push:!0,to:"workout/".concat(this.state.userWorkout)}),Object(l.jsx)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(y.a,{variant:"h4"})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:12,lg:12,style:{display:"flex",flexDirection:"column",gap:8},children:Object(l.jsx)(At.b,{dateAdapter:Ft.a,locale:Rt.a,children:Object(l.jsx)(Nt.a,{label:"Pick a Date and Time",value:this.state.date,onChange:this.handleChange,renderInput:function(e){return Object(l.jsx)(ve.a,Object(Ie.a)({fullWidth:!0,style:Kt},e))}})})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:12,children:Object(l.jsx)(Jt,{updateWorkout:this.updateWorkout})}),Object(l.jsx)(_.a,{item:!0,xs:12,children:Object(l.jsx)(D.a,{variant:"contained",onClick:this.startWorkout,disabled:!this.state.workout,color:"success",style:{width:"100%"},children:"Start Workout"})})]})}}]),a}(n.a.Component);Qt.contextType=h;var $t=Qt,_t={backgroundColor:"white"},Xt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24},Zt=[{field:"name",headerName:"Name",width:200},{field:"dominantMuscle",headerName:"Target Muscle",width:170},{field:"exerciseSubType",headerName:"Exercise Type",width:170}],ea=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n=[];return s.props.workout.exercises.forEach((function(e){n.push(e.exerciseId.id)})),s.state={open:!1,workoutName:s.props.workout.name,workoutLength:s.props.workout.length,workoutSets:s.props.workout.sets,workoutReps:s.props.workout.exercises[0].reps,muscleGroup:s.props.workout.targetMuscleGroup,intensity:s.props.workout.intensity,creator:"",exercises:s.props.workout.exercises,selectedExercises:n,exerciseCreateOpen:!1,openDeleteDialog:!1},s.setState({selectedExercises:n}),s.handleTextBoxChange=s.handleTextBoxChange.bind(Object(O.a)(s)),s.handleMuscleGroupChange=s.handleMuscleGroupChange.bind(Object(O.a)(s)),s.handleIntensityChange=s.handleIntensityChange.bind(Object(O.a)(s)),s.createWorkout=s.createWorkout.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.handleClose=s.handleClose.bind(Object(O.a)(s)),s.handleParentModalState=s.handleParentModalState.bind(Object(O.a)(s)),s.deleteWorkout=s.deleteWorkout.bind(Object(O.a)(s)),s.handleChangeDialogStatus=s.handleChangeDialogStatus.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleTextBoxChange",value:function(e){if("workout-name"===e.target.id&&this.setState({workoutName:e.target.value}),"workout-length"===e.target.id&&this.setState({workoutLength:e.target.value}),"workout-sets"===e.target.id){var t=e.target.value;t<1&&(t=1),this.setState({workoutSets:t})}if("workout-reps"===e.target.id){var a=e.target.value;a<1&&(a=1),this.setState({workoutReps:a})}}},{key:"handleMuscleGroupChange",value:function(e){this.setState({muscleGroup:e.target.value})}},{key:"handleIntensityChange",value:function(e){this.setState({intensity:e.target.value})}},{key:"createWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("Creating workout..."),t=[],a=0;a<this.state.selectedExercises.length;a++)s={},n=Object(c.d)(this.context.database,"exercises",this.state.selectedExercises[a]),s.exerciseId=n,s.reps=this.state.workoutReps,t.push(s);return r=Object(c.d)(this.context.database,"workouts",this.props.workout.id),e.next=6,Object(c.j)(r,{name:this.state.workoutName,sets:this.state.workoutSets,length:this.state.workoutLength,intensity:this.state.intensity,targetMuscleGroup:this.state.muscleGroup,exercises:t});case 6:this.handleParentModalState(),console.log("Document added to Firestore: "+r.id);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(c.d)(this.context.database,"workouts",this.props.workout.id),e.next=3,Object(c.c)(t);case 3:this.handleChangeDialogStatus(),this.handleParentModalState();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"valuetext",value:function(e){return"".concat(e,"\xb0C")}},{key:"openModal",value:function(){this.setState({exerciseCreateOpen:!0})}},{key:"handleClose",value:function(){this.setState({exerciseCreateOpen:!1})}},{key:"handleParentModalState",value:function(){this.setState({open:!this.state.open})}},{key:"handleChangeDialogStatus",value:function(){this.setState({openDeleteDialog:!this.state.openDeleteDialog})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"exercises"),Object(c.k)("exerciseType","==","resistance")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),t.length!==a.state.exercises.length&&a.setState({exercises:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{children:[Object(l.jsx)(D.a,{onClick:this.handleParentModalState,children:"Edit"}),Object(l.jsx)(Z.a,{open:this.state.open,onClose:this.handleParentModalState,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:Xt,children:Object(l.jsx)(rt.a,{style:{padding:12},children:Object(l.jsxs)(_.a,{container:!0,spacing:1,children:[Object(l.jsx)(_.a,{item:!0,xs:12}),Object(l.jsx)(_.a,{item:!0,xs:8,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Workout Name"}),Object(l.jsx)(M.a,{id:"workout-name",type:"text",value:this.state.workoutName,onChange:this.handleTextBoxChange,label:"Workout Name"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Target Muscle Group"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"muscle-group-select",value:this.state.muscleGroup,label:"Target Muscle Group",onChange:this.handleMuscleGroupChange,children:[Object(l.jsx)(ee.a,{value:"Full Body",children:"Full Body"}),Object(l.jsx)(ee.a,{value:"Chest",children:"Chest"}),Object(l.jsx)(ee.a,{value:"Shoulders",children:"Shoulders"}),Object(l.jsx)(ee.a,{value:"Back",children:"Back"}),Object(l.jsx)(ee.a,{value:"Arms",children:"Arms"}),Object(l.jsx)(ee.a,{value:"Core",children:"Core"}),Object(l.jsx)(ee.a,{value:"Legs",children:"Legs"})]})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(y.a,{children:"Length (Minutes)"}),Object(l.jsx)(Tt.a,{id:"workout-length","aria-label":"Length",style:{width:"95%"},defaultValue:45,getAriaValueText:this.valuetext,valueLabelDisplay:"auto",step:15,marks:!0,min:0,max:180,onChange:this.handleTextBoxChange})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:2,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Sets"}),Object(l.jsx)(M.a,{id:"workout-sets",type:"number",value:this.state.workoutSets,onChange:this.handleTextBoxChange,label:"Sets"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:2,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-name",children:"Reps"}),Object(l.jsx)(M.a,{id:"workout-reps",type:"number",value:this.state.workoutReps,onChange:this.handleTextBoxChange,label:"Reps"})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,sm:4,children:Object(l.jsxs)(C.a,{sx:_t,fullWidth:!0,variant:"outlined",required:!0,children:[Object(l.jsx)(S.a,{htmlFor:"outlined-adornment-password",children:"Workout Intensity"}),Object(l.jsxs)(ye.a,{labelId:"primary-muscle-select-label",id:"workout-intensity",value:this.state.intensity,label:"Workout Intensity",onChange:this.handleIntensityChange,children:[Object(l.jsx)(ee.a,{value:"1",children:"Light"}),Object(l.jsx)(ee.a,{value:"2",children:"Medium"}),Object(l.jsx)(ee.a,{value:"3",children:"Heavy"}),Object(l.jsx)(ee.a,{value:"4",children:"Extreme"})]})]})}),Object(l.jsx)(_.a,{item:!0,xs:12,children:this.state.exercises.length>0&&Object(l.jsx)("div",{children:Object(l.jsx)(Et.a,{rows:this.state.exercises,columns:Zt,autoHeight:!0,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onSelectionModelChange:function(t){e.setState({selectedExercises:t},(function(){return console.log(e.state.selectedExercises)}))},selectionModel:this.state.selectedExercises})})}),Object(l.jsxs)(_.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",gap:4,marginTop:4},children:[Object(l.jsx)(D.a,{variant:"contained",onClick:this.openModal,children:"Add New Exercise"}),Object(l.jsx)(Z.a,{open:this.state.exerciseCreateOpen,onClose:this.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:Xt,children:Object(l.jsx)(St,{})})}),Object(l.jsx)(D.a,{variant:"contained",color:"success",onClick:this.createWorkout,children:"Edit Workout"}),Object(l.jsx)(D.a,{variant:"contained",color:"error",onClick:this.handleChangeDialogStatus,children:"Delete Workout"})]})]})})})}),Object(l.jsxs)(L.a,{open:this.state.openDeleteDialog,onClose:this.handleChangeDialogStatus,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(l.jsx)(A.a,{id:"alert-dialog-title",children:"Delete this workout?"}),Object(l.jsx)(N.a,{children:Object(l.jsxs)(F.a,{id:"alert-dialog-description",children:["You are about to delete the workout: ",Object(l.jsx)("b",{children:this.props.workout.name}),". This data will be immediately deleted and cannot be retrieved afterwards."]})}),Object(l.jsxs)(G.a,{children:[Object(l.jsx)(D.a,{onClick:this.handleChangeDialogStatus,children:"Disagree"}),Object(l.jsx)(D.a,{onClick:this.deleteWorkout,autoFocus:!0,children:"Agree"})]})]})]})}}]),a}(n.a.Component);ea.contextType=h;var ta=ea,aa={fontWeight:550},sa={position:"absolute",marginTop:8,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",bgcolor:"background.paper",boxShadow:24,padding:4,overflow:"scroll"},na=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={workouts:[],rowsPerPage:10,page:0,workoutCreateOpen:!1,startWorkoutOpen:!1},s.handleChangePage=s.handleChangePage.bind(Object(O.a)(s)),s.handleChangeRowsPerPage=s.handleChangeRowsPerPage.bind(Object(O.a)(s)),s.switchModalState=s.switchModalState.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"workouts")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),a.setState({workouts:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangePage",value:function(e,t){this.setState({page:t})}},{key:"handleChangeRowsPerPage",value:function(e){this.setState({rowsPerPage:parseInt(e.target.value,10),page:0})}},{key:"switchModalState",value:function(){this.setState({workoutCreateOpen:!this.state.workoutCreateOpen})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)("div",{style:{marginBottom:64},children:[Object(l.jsx)(pt.a,{children:Object(l.jsxs)(Fe.a,{children:[Object(l.jsx)(Ae.a,{children:Object(l.jsxs)(gt.a,{id:"header-row",children:[Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:aa,children:"Workout Name"})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:aa,children:"Target Muscle Group"})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(y.a,{style:aa,children:"Sets"})}),!this.props.selectorList&&Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)(He.a,{}),Object(l.jsx)(He.a,{})]})]})}),Object(l.jsx)(Re.a,{children:this.state.workouts.slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(t,a){return Object(l.jsxs)(gt.a,{id:t.id,children:[Object(l.jsx)(He.a,{children:t.name}),Object(l.jsx)(He.a,{children:t.targetMuscleGroup}),Object(l.jsx)(He.a,{children:t.sets}),!e.props.selectorList&&Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)(He.a,{children:Object(l.jsx)(ta,{workout:t})}),Object(l.jsx)(He.a,{children:Object(l.jsx)(zt,{workout:t,modalStateChanger:e.switchStartModalState})})]})]})}))})]})}),Object(l.jsx)(xt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.state.workouts.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage}),Object(l.jsx)(D.a,{variant:"contained",onClick:this.switchModalState,style:{marginRight:4},children:"Create New Workout"}),Object(l.jsx)(Z.a,{open:this.state.workoutCreateOpen,onClose:this.switchModalState,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(X.a,{style:sa,children:Object(l.jsx)(rt.a,{style:{paddingLeft:12,paddingRight:12,paddingTop:12},children:Object(l.jsx)(Gt,{modalCloser:this.switchModalState})})})})]})}}]),a}(n.a.Component);na.contextType=h;var ra=na,ia=a(421),oa=a(419),ca=a(322),la=a(250),da=a.n(la),ha=a(249),ua=a.n(ha),ja={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:"40vw",maxWidth:"80vw",bgcolor:"background.paper",border:"3x solid #000",boxShadow:6e3,p:4},ba={display:"grid",justifyContent:"center"},pa=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;Object(x.a)(this,a),s=t.call(this,e);var n,r=new Date;return n=r.getFullYear()+" "+(r.getMonth()+1)+" "+r.getDate(),s.state={user:s.props.user,date:r,dateString:n,workouts:[],userWorkouts:[],workout:""},s.handleChange=s.handleChange.bind(Object(O.a)(s)),s.switchStartModalState=s.switchStartModalState.bind(Object(O.a)(s)),s.openModal=s.openModal.bind(Object(O.a)(s)),s.handleOpen=s.handleOpen.bind(Object(O.a)(s)),s.handleClose=s.handleClose.bind(Object(O.a)(s)),s.handleWorkoutChange=s.handleWorkoutChange.bind(Object(O.a)(s)),s.scheduleWorkout=s.scheduleWorkout.bind(Object(O.a)(s)),s.getUserWorkouts=s.getUserWorkouts.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.getFullYear()+" "+(e.getMonth()+1)+" "+e.getDate();this.setState({date:e,dateString:a},(function(){return t.getUserWorkouts()}))}},{key:"handleWorkoutChange",value:function(e){this.setState({workout:e.target.value})}},{key:"openModal",value:function(){this.setState({scheduleWorkoutModal:!0})}},{key:"handleClose",value:function(){this.setState({scheduleWorkoutModal:!1})}},{key:"handleOpen",value:function(){this.setState({scheduleWorkoutModal:!1})}},{key:"switchStartModalState",value:function(){this.setState({scheduleWorkoutModal:!this.state.scheduleWorkout})}},{key:"getUserWorkouts",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(c.d)(this.context.database,"users",this.context.user.uid),a=Object(c.h)(Object(c.b)(this.context.database,"user-workouts"),Object(c.k)("user","==",t),Object(c.k)("dateString","==",this.state.dateString)),Object(c.g)(a,(function(e){var t=[];e.forEach(function(){var e=Object(p.a)(v.a.mark((function e(a){var n,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.data()).id=a.id,e.next=4,Object(c.e)(n.workout);case 4:r=e.sent,i=r.data(),n.name=i.name,n.targetMuscleGroup=i.targetMuscleGroup,t.push(n),s.setState({userWorkouts:t});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),this.setState({userWorkouts:[]}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({creator:this.context.user.uid}),t=Object(c.h)(Object(c.b)(this.context.database,"workouts")),Object(c.g)(t,(function(e){var t=[];e.forEach((function(e){var a=e.data();a.id=e.id,t.push(a)})),a.setState({workouts:t})})),this.getUserWorkouts();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scheduleWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t,a,s,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.workouts[this.state.workout],a=t.exercises,s=Object(c.d)(this.context.database,"workouts",t.id),n=Object(c.d)(this.context.database,"users",this.context.user.uid),a.forEach((function(e){for(var a=[],s=0;s<t.sets;s++){var n={};n.reps=e.reps,n.weight=0,a.push(n)}e.sets=a})),e.next=7,Object(c.a)(Object(c.b)(this.context.database,"user-workouts"),{completed:!1,date:this.state.date,dateString:this.state.dateString,exercises:a,user:n,workout:s});case 7:r=e.sent,console.log("User Workout added to database: "+r.id),this.handleClose();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteWorkout",value:function(){var e=Object(p.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(c.d)(this.context.database,"user-workouts",t),e.next=3,Object(c.c)(a);case 3:this.getUserWorkouts();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{style:{display:"grid",justifyContent:"center",marginBottom:66},children:Object(l.jsxs)(k.a,{sx:{maxWidth:"90vw",margin:1,display:"grid",justifyContent:"center"},children:[Object(l.jsxs)(At.b,{dateAdapter:Ft.a,locale:Rt.a,children:[Object(l.jsx)(ia.a,{orientation:"portrait",openTo:"day",value:this.state.date,onChange:this.handleChange,renderInput:function(e){return Object(l.jsx)(ve.a,Object(Ie.a)({},e))}}),Object(l.jsx)(Z.a,{open:this.state.scheduleWorkoutModal,onClose:this.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(ca.a,{in:this.state.scheduleWorkoutModal,children:Object(l.jsx)(X.a,{sx:ja,children:Object(l.jsxs)(_.a,{container:!0,spacing:.5,style:{marginTop:"1em"},children:[Object(l.jsxs)(C.a,{sx:{m:1,minWidth:120},children:[Object(l.jsx)(S.a,{id:"demo-simple-select-label",children:"Select Workout"}),Object(l.jsx)(ye.a,{label:"Select Workout",labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.workout,onChange:this.handleWorkoutChange,children:this.state.workouts.map((function(e,t){return Object(l.jsx)(ee.a,{value:t,children:e.name})}))}),Object(l.jsx)(oa.a,{value:this.state.date,onChange:this.handleChange,renderInput:function(e){return Object(l.jsx)(ve.a,Object(Ie.a)({},e))}})]}),Object(l.jsxs)(_.a,{item:!0,xs:12,style:{display:"flex",gap:1},children:[Object(l.jsx)(D.a,{size:"small",margin:"center",onClick:this.scheduleWorkout,variant:"contained",style:{float:"center"},color:"success",endIcon:Object(l.jsx)(ua.a,{}),children:"Confirm"}),Object(l.jsx)(D.a,{size:"small",margin:"center",onClick:this.handleClose,variant:"contained",style:{float:"center"},color:"error",endIcon:Object(l.jsx)(da.a,{}),children:"Cancel"})]})]})})})})]}),Object(l.jsx)("div",{className:"WorkoutInfo",style:ba,children:Object(l.jsxs)(k.a,{sx:{width:480,maxWidth:"75vw",padding:1,margin:1,display:"grid",justifyContent:"center"},children:[this.state.userWorkouts.length>0&&Object(l.jsxs)("div",{children:[Object(l.jsx)(y.a,{variant:"button",style:{fontWeight:750},gutterBottom:!0,children:this.state.userWorkouts.length>1?"Workouts":"Workout"}),this.state.userWorkouts.map((function(t){return Object(l.jsxs)("div",{id:t.id,style:{maxWidth:"80vw",marginBottom:4,display:"flex",gap:4,alignItems:"center"},children:[Object(l.jsx)(y.a,{variant:"button",children:t.name}),Object(l.jsx)(oe.b,{to:"workout/".concat(t.id),color:"white",children:Object(l.jsx)(D.a,{size:"small",variant:"contained",color:"success",children:"Start"})}),Object(l.jsx)(D.a,{size:"small",variant:"contained",color:"error",onClick:function(){return e.deleteWorkout(t.id)},children:"Delete"})]})}))]}),!this.state.userWorkouts.length>0&&Object(l.jsx)(y.a,{variant:"button",display:"block",gutterBottom:!0,children:"No Workouts Booked"})]})}),Object(l.jsx)("div",{style:{display:"grid",justifyItems:"center"},children:Object(l.jsx)(D.a,{color:"success",variant:"contained",onClick:this.switchStartModalState,sx:{width:500,maxWidth:"80vw",padding:1,margin:1,display:"grid",justifyContent:"center",p:1},children:"Schedule Workout"})})]})})}}]),a}(n.a.Component);pa.contextType=h;var xa=pa,ga=a(445),Oa=a(253),ma=a.n(Oa),wa=a(252),fa=a.n(wa),va=a(254),ya=a.n(va),ka=a(444),Ca=a(251),Sa=a.n(Ca),Ma=a(257),Pa=a(255),Wa=a.n(Pa),Da=!1,Ta=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={user:s.props.user,anchorEl:null,open:!1,openAccountMenu:!1,accountAnchorEl:null},s.handleClick=s.handleClick.bind(Object(O.a)(s)),s.handleClose=s.handleClose.bind(Object(O.a)(s)),s.handleModalClose=s.handleModalClose.bind(Object(O.a)(s)),s.handleAccountClick=s.handleAccountClick.bind(Object(O.a)(s)),s.handleAccountClose=s.handleAccountClose.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleModalClose",value:function(){Da=!0,this.setState({anchorEl:null,open:!1})}},{key:"handleAccountClick",value:function(e){this.setState({accountAnchorEl:e.currentTarget,openAccountMenu:!0})}},{key:"handleAccountClose",value:function(){this.setState({elementAnchorEl:null,openAccountMenu:!1})}},{key:"handleClick",value:function(e){this.setState({anchorEl:e.currentTarget,open:!0})}},{key:"handleClose",value:function(){this.setState({anchorEl:null,open:!1})}},{key:"render",value:function(){var e=this;return Da=this.props.loginOpen,Object(l.jsx)(ga.a,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:Object(l.jsxs)(ka.a,{children:[Object(l.jsx)(W.a,{color:"inherit","aria-label":"open drawer","aria-controls":"tab-menu","aria-haspopup":"true","aria-expanded":this.state.open,onClick:this.handleClick,children:Object(l.jsx)(Sa.a,{})}),Object(l.jsx)(Ma.a,{id:"tab-menu",anchorEl:this.state.anchorEl,open:this.state.open,onClose:this.handleClose,children:this.props.user.name?Object(l.jsxs)("div",{children:[Object(l.jsx)(ct.a,{component:oe.b,to:"/",children:Object(l.jsx)(ee.a,{onClick:this.handleClose,children:"My Home"})}),Object(l.jsx)(ct.a,{component:oe.b,to:"/my-calendar",children:Object(l.jsx)(ee.a,{onClick:this.handleClose,children:"My Calendar"})}),Object(l.jsx)(ct.a,{component:oe.b,to:"/creation-center",children:Object(l.jsx)(ee.a,{onClick:this.handleClose,children:"Creation Center"})}),Object(l.jsx)(ee.a,{onClick:function(){e.props.appLogoutHandler(),e.handleAccountClose()},children:"Log Out"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(ie,{appLoginHandler:this.props.appLoginHandler,open:Da,loggingIn:this.props.loggingIn,closeMenu:this.handleModalClose,ref:this.props.loginRef}),Object(l.jsx)(me,{appSignUpHandler:this.props.appSignUpHandler,signUpSubmit:this.props.signUpSubmit,open:this.props.signUpOpen,closeMenu:this.handleModalClose,ref:this.props.signUpRef})]})}),null!==this.props.user.name?Object(l.jsxs)("div",{style:{paddingTop:6,flexGrow:1,display:"flex"},children:[Object(l.jsxs)(X.a,{sx:{flexGrow:1,display:"flex",justifyContent:"space-around"},children:[Object(l.jsx)(oe.b,{to:"/create-custom-workout",color:"white",children:Object(l.jsx)(W.a,{style:{color:"white"},children:Object(l.jsx)(fa.a,{})})}),Object(l.jsx)(oe.b,{to:"/",color:"white",children:Object(l.jsx)(W.a,{style:{color:"white"},children:Object(l.jsx)(ma.a,{})})}),Object(l.jsx)(oe.b,{to:"/my-calendar",color:"white",children:Object(l.jsx)(W.a,{style:{color:"white"},children:Object(l.jsx)(ya.a,{})})})]}),Object(l.jsx)(W.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:this.handleAccountClick,color:"inherit",children:Object(l.jsx)(Wa.a,{})}),Object(l.jsxs)(Ma.a,{id:"account-menu",anchorEl:this.state.accountAnchorEl,open:this.state.openAccountMenu,onClose:this.handleAccountClose,children:[Object(l.jsx)(ct.a,{component:oe.b,to:"/account-management",children:Object(l.jsx)(ee.a,{onClick:this.handleAccountClose,children:"Manage Account"})}),Object(l.jsx)(ee.a,{onClick:function(){e.props.appLogoutHandler(),e.handleAccountClose()},children:"Log Out"})]})]}):Object(l.jsx)("div",{style:{display:"flex"}})]})})}}]),a}(n.a.Component),Ea=function(e){Object(m.a)(a,e);var t=Object(w.a)(a);function a(e){var s;return Object(x.a)(this,a),(s=t.call(this,e)).state={user:{uuid:null,name:null,userEmail:null,height:null,weight:null},showLogin:!1,signUp:!1,redirect:!1},s.loginElement=n.a.createRef(),s.signUpElement=n.a.createRef(),s.tabMenuElement=n.a.createRef(),s.splashLoginElement=n.a.createRef(),s.handleLogIn=s.handleLogIn.bind(Object(O.a)(s)),s.logOut=s.logOut.bind(Object(O.a)(s)),s.showSignUp=s.showSignUp.bind(Object(O.a)(s)),s.handleSignUp=s.handleSignUp.bind(Object(O.a)(s)),s.updateUserDetails=s.updateUserDetails.bind(Object(O.a)(s)),s.deleteUser=s.deleteUser.bind(Object(O.a)(s)),s}return Object(g.a)(a,[{key:"handleLogIn",value:function(){var e=Object(p.a)(v.a.mark((function e(t,a){var s,n,r,i,l=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,e.next=3,Object(o.f)(this.context.auth,t,a).then((function(e){s=e.user,l.context.user=s,l.context.authCredential=e})).catch((function(e){var t=e.code;l.loginElement.current.receiveError(t),l.loginElement.current.handleSubmit()}));case 3:if(null===s){e.next=9;break}return n=Object(c.d)(this.context.database,"users",s.uid),e.next=7,Object(c.e)(n);case 7:(r=e.sent).exists()?(i=r.data(),this.splashLoginElement.current&&this.splashLoginElement.current.handleSubmit(),this.loginElement.current&&this.loginElement.current.handleSubmit(),this.tabMenuElement.current&&this.tabMenuElement.current.handleClose(),this.setState({showLogin:!1,user:{uuid:this.context.user.uid,name:i.name,height:i.height,weight:i.weight,userEmail:this.context.user.email}})):console.log("User ID not found in database");case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSignUp",value:function(){var e=Object(p.a)(v.a.mark((function e(t,a,s){var n,r,i,l=this,d=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>3&&void 0!==d[3]?d[3]:0,r=d.length>4&&void 0!==d[4]?d[4]:0,i=null,e.next=5,Object(o.b)(this.context.auth,a,s).then((function(e){i=e.user,l.context.user=i,l.context.authCredential=e,n||(n=0),r||(r=0),t||(t=a),Object(c.i)(Object(c.d)(l.context.database,"users",i.uid),{name:t,weight:n,height:r}),l.signUpElement.current.handleSignUpProcessing(),l.tabMenuElement.current.handleClose(),l.setState({signUp:!1,user:{uuid:i.uid,name:t,userEmail:i.email}})})).catch((function(e){var t="Error occurred";console.log(e.code),"db/name-not-provided"===e?t="Please provide a name":"auth/missing-email"===e.code||"auth/invalid-email"===e.code?t="Missing or Invalid Email Address":"auth/weak-password"===e.code?t="Password must be at least 6 characters":"auth/email-already-in-use"===e.code&&(t="Email is already in use."),l.signUpElement.current.receiveError(t),l.signUpElement.current.handleSignUpProcessing()}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,s){return e.apply(this,arguments)}}()},{key:"updateUserDetails",value:function(){var e=Object(p.a)(v.a.mark((function e(t,a,s){var n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.i)(Object(c.d)(this.context.database,"users",this.context.user.uid),{name:t,weight:a,height:s}).then((function(){n.setState({user:{uuid:n.state.user.uuid,userEmail:n.state.user.userEmail,name:t,weight:a,height:s}})}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,a,s){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(p.a)(v.a.mark((function e(){var t=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Delete function on main component called"),e.next=3,Object(o.c)(this.context.auth.currentUser).then((function(){var e=Object(c.d)(t.context.database,"users",t.context.user.uid);Object(c.e)(e).then((function(t){t.exists()?(console.log("User documents found in Database, Deleting..."),Object(c.c)(e)):console.log("User ID not found in database, no documents to delete. This may be an error")})),t.setState({user:{uuid:null,name:null,userEmail:null,height:null,weight:null}})})).catch((function(e){console.log("An error occurred.")}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){this.setState({user:{uuid:null,name:null,userEmail:null},redirect:!0})}},{key:"showSignUp",value:function(){this.setState({signUp:!this.state.signUp})}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(oe.a,{children:[Object(l.jsx)(Ta,{ref:this.tabMenuElement,user:this.state.user,appLoginHandler:this.handleLogIn,loginOpen:this.state.showLogin,loggingIn:this.state.loggingIn,loginRef:this.loginElement,appSignUpHandler:this.showSignUp,signUpSubmit:this.handleSignUp,signUpRef:this.signUpElement,signUpOpen:this.state.signUp,appLogoutHandler:this.logOut}),Object(l.jsx)(De.d,{children:this.state.user.uuid?Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)(De.b,{path:"/create-custom-workout",component:function(){return Object(l.jsx)($t,{})}}),Object(l.jsx)(De.b,{path:"/account-management",component:function(){return Object(l.jsx)(K,{user:e.state.user,deleteHandler:e.deleteUser,updateUserDetails:e.updateUserDetails})}}),Object(l.jsx)(De.b,{path:"/my-workouts",component:function(){return Object(l.jsx)(Je,{})}}),Object(l.jsx)(De.b,{path:"/browse-workouts",component:function(){return Object(l.jsx)(Ue,{user:e.state.user})}}),Object(l.jsx)(De.b,{path:"/creation-center",component:function(){return Object(l.jsx)(bt,{})}}),Object(l.jsx)(De.b,{path:"/edit-exercises",component:function(){return Object(l.jsx)(Dt,{})}}),Object(l.jsx)(De.b,{path:"/edit-workouts",component:function(){return Object(l.jsx)(ra,{})}}),Object(l.jsx)(De.b,{path:"/create-workout",component:function(){return Object(l.jsx)(Gt,{})}}),Object(l.jsx)(De.b,{path:"/create-exercise",component:function(){return Object(l.jsx)(St,{})}}),Object(l.jsx)(De.b,{path:"/my-calendar",component:function(){return Object(l.jsx)(xa,{})}}),Object(l.jsx)(De.b,{path:"/workout/:userWorkoutId",component:function(){return Object(l.jsx)(ot,{user:e.state.user})}}),Object(l.jsx)(De.b,{exact:!0,path:"/",component:function(){return Object(l.jsx)(de,{user:e.state.user})}})]}):Object(l.jsx)(n.a.Fragment,{children:Object(l.jsx)(De.b,{exact:!0,path:"",component:function(){return Object(l.jsx)(fe,{loginRef:e.splashLoginElement,appLoginHandler:e.handleLogIn,appSignUpHandler:e.showSignUp,signUpSubmit:e.handleSignUp,signUpRef:e.signUpElement,signUpOpen:e.state.signUp})}})})})]})}}]),a}(n.a.Component);Ea.contextType=h;var Ba=Ea,Ua=document.getElementById("root");b.a.render(Object(l.jsx)(s.StrictMode,{children:Object(l.jsx)(u,{children:Object(l.jsx)(Ba,{})})}),Ua)}},[[317,1,2]]]);
//# sourceMappingURL=main.a436cfff.chunk.js.map